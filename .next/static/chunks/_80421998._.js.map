{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ys1114/.gemini/antigravity/scratch/ProjectV2/lib/tax-store.ts"],"sourcesContent":["/**\r\n * 세금 데이터 저장소\r\n * localStorage를 사용하여 Admin, Calculator, Dashboard 간 데이터 공유\r\n */\r\n\r\nimport { TaxData } from \"./ai-recommendation\";\r\n\r\nconst STORAGE_KEY = \"taxai_tax_data\";\r\nconst ADMIN_STORAGE_KEY_PREFIX = \"taxai_admin_data_\"; // 연도별: taxai_admin_data_2024, taxai_admin_data_2025 ...\r\n\r\n/**\r\n * Admin 페이지 데이터 인터페이스\r\n */\r\nexport interface AdminData {\r\n    year: number;\r\n    salary: {\r\n        // 월별 데이터 (1~12월)\r\n        monthly?: {\r\n            [month: number]: {\r\n                totalSalary: string;\r\n                mealAllowance: string;\r\n                nationalPension: string;\r\n                healthInsurance: string;\r\n                longTermCare: string;\r\n                employmentInsurance: string;\r\n                bonus: string;             // 상여금\r\n                childTuition: string;      // 자녀학자금\r\n                prepaidTax: string;        // 기납부세액 (소득세)\r\n                localIncomeTax: string;    // 기납부세액 (지방소득세)\r\n            }\r\n        };\r\n        // 연간 합계 (계산기로 전달용)\r\n        totalSalary: number;       // 총급여 (세전)\r\n        bonus: number;             // 상여금 (연간)\r\n        childTuition: number;      // 자녀학자금 (연간)\r\n        mealAllowance: number;     // 비과세 식대 (연간)\r\n        childrenUnder6: number;    // 6세 이하 자녀 수 (보육수당)\r\n        nationalPension: number;   // 국민연금\r\n        healthInsurance: number;   // 건강보험\r\n        longTermCare: number;      // 노인장기요양보험\r\n        employmentInsurance: number; // 고용보험\r\n        prepaidTax?: number;       // 기납부세액 (소득세, 연간)\r\n        localIncomeTax?: number;   // 기납부세액 (지방소득세, 연간)\r\n    };\r\n    spending: {\r\n        creditCard: number;        // 신용카드\r\n        debitCard: number;         // 체크카드\r\n        cash: number;              // 현금영수증\r\n        publicTransport: number;   // 대중교통\r\n        traditionalMarket: number; // 전통시장\r\n        culture: number;           // 문화비\r\n    };\r\n    // 지출 항목 원본 (UI 복원용)\r\n    spendingItems?: Array<{\r\n        id: string;\r\n        name: string;\r\n        amount: string;\r\n        month: number;\r\n    }>;\r\n    // 가족정보 (기본공제 - 본인 제외)\r\n    family: {\r\n        spouse: boolean;           // 배우자 유무\r\n        children: number;          // 자녀 (만 20세 이하)\r\n        childrenUnder6: number;    // 6세 이하 자녀 수 (보육수당 및 카드한도 확대용)\r\n        childrenOver8?: number;    // 8세 이상 자녀 수 (자녀세액공제)\r\n        birthAdoption?: \"none\" | \"first\" | \"second\" | \"third1\" | \"third2\" | \"third3\";  // 출생·입양자\r\n        parents: number;           // 직계존속 (만 60세 이상)\r\n        siblings: number;          // 형제자매 (만 20세 이하 또는 만 60세 이상)\r\n        foster: number;            // 위탁아동 (6개월 이상)\r\n        recipient: number;         // 기초생활수급자\r\n        disabled?: number;         // 장애인\r\n        seniorOver70?: number;     // 70세 이상\r\n        singleParent?: boolean;    // 한부모\r\n    };\r\n    // 추가 공제 항목들\r\n    deductions: {\r\n        medical: number;           // 의료비 (총합, 레거시 호환)\r\n        medicalInfertility: number;    // 의료비(난임시술비) - 30%\r\n        medicalPremature: number;      // 의료비(미숙아,선천성) - 20%\r\n        medicalSelf: number;           // 의료비(본인,장애,65세,6세) - 15%\r\n        medicalFamily: number;         // 의료비(그밖부양가족) - 15%\r\n        education: number;         // 교육비 (총합, 레거시 호환)\r\n        educationSelf: number;     // 교육비(본인)\r\n        educationChild: number;    // 교육비(미취학·초중고) - 레거시\r\n        // 자녀별 교육비 (1인당 300만원 한도)\r\n        educationPreschool1: number;  // 교육비(미취학)-자녀1\r\n        educationPreschool2: number;  // 교육비(미취학)-자녀2\r\n        educationPreschool3: number;  // 교육비(미취학)-자녀3\r\n        educationK12_1: number;       // 교육비(초중고)-자녀1\r\n        educationK12_2: number;       // 교육비(초중고)-자녀2\r\n        educationK12_3: number;       // 교육비(초중고)-자녀3\r\n        // 자녀별 대학 교육비 (1인당 900만원 한도)\r\n        educationUniv: number;        // 교육비(대학) - 레거시\r\n        educationUniv1: number;       // 교육비(대학)-자녀1\r\n        educationUniv2: number;       // 교육비(대학)-자녀2\r\n        educationUniv3: number;       // 교육비(대학)-자녀3\r\n        housing: number;           // 주택마련저축 (레거시, 청약저축으로 이관)\r\n        housingSubscription: number;  // 주택자금(청약저축) - 소득공제 (합계)\r\n        housingSubscriptionHead: number;  // 주택자금(청약저축) - 세대주\r\n        housingSubscriptionSpouse: number;  // 주택자금(청약저축) - 배우자\r\n        housingRent: number;          // 주택자금(월세) - 세액공제\r\n        housingLoan: number;          // 주택자금(임차차입금원리금상환액) - 소득공제\r\n        housingMortgage: number;      // 주택자금(장기주택) - 소득공제 (레거시 호환)\r\n        housingMortgage15Fixed: number;    // 장기주택 15년이상 고정금리+비거치식 (한도 1,800만원)\r\n        housingMortgage15Either: number;   // 장기주택 15년이상 고정금리 or 비거치식 (한도 1,500만원)\r\n        housingMortgage15Other: number;    // 장기주택 15년이상 기타 (한도 500만원)\r\n        housingMortgage10Either: number;   // 장기주택 10년이상 고정금리 or 비거치식 (한도 300만원)\r\n        pension: number;           // 연금저축/IRP (레거시 호환)\r\n        pensionSavings: number;    // 연금저축 (연 600만원 한도)\r\n        pensionIRP: number;        // 퇴직연금(IRP) (연금저축 포함 연 900만원 한도)\r\n        insurance: number;         // 보험료\r\n        donation: number;          // 기부금 (총합, 레거시 호환)\r\n        donationPolitical: number;     // 기부금(정치자금)\r\n        donationHometown: number;      // 기부금(고향사랑)\r\n        donationDisaster: number;      // 기부금(고향사랑특별재난)\r\n        donationSpecial: number;       // 기부금(특례기부금)\r\n        donationStock: number;         // 기부금(우리사주조합)\r\n        donationReligious: number;     // 기부금(일반기부금(종교))\r\n        donationNonReligious: number;  // 기부금(일반기부금(종교 외))\r\n    };\r\n    updatedAt: string;\r\n}\r\n\r\n/**\r\n * 공제 항목 분석 결과 인터페이스\r\n */\r\nexport interface DeductionAnalysis {\r\n    id: string;\r\n    category: string;\r\n    type: \"소득공제\" | \"세액공제\";\r\n    amount: number;\r\n    limit: number;\r\n    maxBenefit?: number; // 최대 공제 혜택 (활용률 계산용)\r\n    earnedIncome?: number; // 근로소득금액 (기부금 한도 계산용)\r\n    donationLimits?: {\r\n        politicalFund: number;        // 정치자금: 근로소득금액 전액\r\n        hometownDisaster: number;     // 고향사랑/특별재난: 합산 200만원\r\n        specialDonation: number;      // 특례기부금: 근로소득금액 전액\r\n        employeeStock: number;        // 우리사주조합: 근로소득금액의 30%\r\n        generalReligious: number;     // 일반기부금(종교): 근로소득금액의 10%\r\n        generalNonReligious: number;  // 일반기부금(종교외): 근로소득금액의 30%\r\n    };\r\n    childLimits?: {\r\n        first: number;           // 첫째: 15만원\r\n        second: number;          // 둘째: 15만원\r\n        thirdPlus: number;       // 셋째 이상: 30만원\r\n        birthFirst: number;      // 출생·입양 첫째: 30만원\r\n        birthSecond: number;     // 출생·입양 둘째: 50만원\r\n        birthThirdPlus: number;  // 출생·입양 셋째 이상: 70만원\r\n    };\r\n    status: \"optimal\" | \"good\" | \"warning\" | \"critical\";\r\n    thresholdInfo?: string; // 문턱 정보 (신용카드 25%, 의료비 3% 등)\r\n}\r\n\r\n/**\r\n * 세금 데이터 저장\r\n */\r\nexport function saveTaxData(data: TaxData): void {\r\n    try {\r\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\r\n    } catch (error) {\r\n        console.error(\"Failed to save tax data:\", error);\r\n    }\r\n}\r\n\r\n/**\r\n * 세금 데이터 불러오기\r\n */\r\nexport function loadTaxData(): TaxData | null {\r\n    try {\r\n        const stored = localStorage.getItem(STORAGE_KEY);\r\n        if (stored) {\r\n            return JSON.parse(stored) as TaxData;\r\n        }\r\n        return null;\r\n    } catch (error) {\r\n        console.error(\"Failed to load tax data:\", error);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * 세금 데이터 삭제\r\n */\r\nexport function clearTaxData(): void {\r\n    try {\r\n        localStorage.removeItem(STORAGE_KEY);\r\n    } catch (error) {\r\n        console.error(\"Failed to clear tax data:\", error);\r\n    }\r\n}\r\n\r\n/**\r\n * 세금 데이터 존재 여부 확인\r\n */\r\nexport function hasTaxData(): boolean {\r\n    try {\r\n        return localStorage.getItem(STORAGE_KEY) !== null;\r\n    } catch {\r\n        return false;\r\n    }\r\n}\r\n\r\n// ==================== Admin 데이터 함수 ====================\r\n\r\n/**\r\n * Admin 데이터 저장 (연도별)\r\n */\r\nexport function saveAdminData(year: number, data: AdminData): void {\r\n    try {\r\n        const key = `${ADMIN_STORAGE_KEY_PREFIX}${year}`;\r\n        console.log(\"[DEBUG] saveAdminData called for year:\", year);\r\n        localStorage.setItem(key, JSON.stringify(data));\r\n        console.log(\"[DEBUG] Admin data saved successfully! Key:\", key);\r\n    } catch (error) {\r\n        console.error(\"[ERROR] Failed to save admin data:\", error);\r\n    }\r\n}\r\n\r\n/**\r\n * Admin 데이터 불러오기 (연도별)\r\n */\r\nexport function loadAdminData(year: number): AdminData | null {\r\n    try {\r\n        const key = `${ADMIN_STORAGE_KEY_PREFIX}${year}`;\r\n        const stored = localStorage.getItem(key);\r\n        if (stored) {\r\n            return JSON.parse(stored) as AdminData;\r\n        }\r\n        return null;\r\n    } catch (error) {\r\n        console.error(\"Failed to load admin data:\", error);\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Admin 데이터 존재 여부 확인 (연도별)\r\n */\r\nexport function hasAdminData(year: number): boolean {\r\n    try {\r\n        const key = `${ADMIN_STORAGE_KEY_PREFIX}${year}`;\r\n        return localStorage.getItem(key) !== null;\r\n    } catch {\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Admin 데이터를 공제 분석 항목으로 변환\r\n */\r\nexport function generateDeductionAnalysis(adminData: AdminData): DeductionAnalysis[] {\r\n    // 총급여액 = 급여(totalSalary) + 상여금(bonus) + 자녀학자금(childTuition) - 비과세(mealAllowance + 보육수당)\r\n    const childcareAllowance = (adminData.salary.childrenUnder6 || 0) * 200000 * 12; // 6세 이하 자녀당 월 20만원\r\n    const totalNonTaxable = (adminData.salary.mealAllowance || 0) + childcareAllowance;\r\n    const salary = (adminData.salary.totalSalary || 0) +\r\n        (adminData.salary.bonus || 0) +\r\n        (adminData.salary.childTuition || 0) -\r\n        totalNonTaxable;\r\n    const spending = adminData.spending;\r\n    const deductions = adminData.deductions;\r\n\r\n    // spendingItems에서 직접 금액을 계산하는 헬퍼 (레거시 데이터 호환용)\r\n    const getSpendingItemAmount = (name: string): number => {\r\n        if (!adminData.spendingItems) return 0;\r\n        return adminData.spendingItems\r\n            .filter(i => i.name && i.name.includes(name))\r\n            .reduce((sum, item) => {\r\n                const amount = typeof item.amount === 'string'\r\n                    ? parseInt(item.amount.replace(/[^0-9]/g, '')) || 0\r\n                    : item.amount || 0;\r\n                return sum + amount;\r\n            }, 0);\r\n    };\r\n\r\n    // 신용카드 등 소득공제 계산\r\n    const totalCardSpending = spending.creditCard + spending.debitCard + spending.cash +\r\n        spending.publicTransport + spending.traditionalMarket + spending.culture;\r\n    const minSpending = salary * 0.25; // 25% 문턱\r\n\r\n    // 실제 공제액 계산 (25% 문턱 초과분에 공제율 적용)\r\n    let cardDeduction = 0;\r\n    if (totalCardSpending > minSpending) {\r\n        let remaining = minSpending;\r\n\r\n        // 25% 문턱 소진 순서: 신용카드 → 직불카드 → 현금영수증 → 대중교통 → 전통시장 → 문화비\r\n        // 1. 신용카드 (15%)\r\n        const creditUsed = Math.min(spending.creditCard, remaining);\r\n        remaining -= creditUsed;\r\n        const creditExcess = spending.creditCard - creditUsed;\r\n        cardDeduction += creditExcess * 0.15;\r\n\r\n        // 2. 직불카드 (30%)\r\n        const debitUsed = Math.min(spending.debitCard, remaining);\r\n        remaining -= debitUsed;\r\n        const debitExcess = spending.debitCard - debitUsed;\r\n        cardDeduction += debitExcess * 0.30;\r\n\r\n        // 3. 현금영수증 (30%)\r\n        const cashUsed = Math.min(spending.cash, remaining);\r\n        remaining -= cashUsed;\r\n        const cashExcess = spending.cash - cashUsed;\r\n        cardDeduction += cashExcess * 0.30;\r\n\r\n        // 4. 대중교통 (80%)\r\n        const transportUsed = Math.min(spending.publicTransport, remaining);\r\n        remaining -= transportUsed;\r\n        const transportExcess = spending.publicTransport - transportUsed;\r\n        cardDeduction += transportExcess * 0.80;\r\n\r\n        // 5. 전통시장 (40%)\r\n        const marketUsed = Math.min(spending.traditionalMarket, remaining);\r\n        remaining -= marketUsed;\r\n        const marketExcess = spending.traditionalMarket - marketUsed;\r\n        cardDeduction += marketExcess * 0.40;\r\n\r\n        // 6. 문화비 (30%)\r\n        const cultureUsed = Math.min(spending.culture, remaining);\r\n        remaining -= cultureUsed;\r\n        const cultureExcess = spending.culture - cultureUsed;\r\n        cardDeduction += cultureExcess * 0.30;\r\n    }\r\n\r\n    // 카드 사용 상태: 문턱 대비 얼마나 사용했는지\r\n    const cardProgress = minSpending > 0 ? totalCardSpending / minSpending : 0;\r\n    const getCardStatus = (): \"optimal\" | \"good\" | \"warning\" | \"critical\" => {\r\n        if (cardProgress >= 1.3) return \"optimal\"; // 문턱 초과 + 여유\r\n        if (cardProgress >= 1.0) return \"good\";    // 문턱 도달\r\n        if (cardProgress >= 0.7) return \"warning\"; // 문턱 근접\r\n        return \"critical\";                          // 문턱까지 멀음\r\n    };\r\n\r\n    const getStatus = (ratio: number): \"optimal\" | \"good\" | \"warning\" | \"critical\" => {\r\n        if (ratio >= 0.95) return \"optimal\";\r\n        if (ratio >= 0.7) return \"good\";\r\n        if (ratio >= 0.4) return \"warning\";\r\n        return \"critical\";\r\n    };\r\n\r\n    // 카드공제 한도: 기본 600만 + 자녀시 100만 (최대)\r\n    const hasChildren = adminData.family?.children >= 1;\r\n    const cardLimit = hasChildren ? 7000000 : 6000000;\r\n\r\n    // 한도 적용\r\n    const finalCardDeduction = Math.min(cardDeduction, cardLimit);\r\n\r\n    // 4대보험 합계\r\n    const socialInsurance = adminData.salary.nationalPension +\r\n        adminData.salary.healthInsurance +\r\n        (adminData.salary.longTermCare || 0) +\r\n        (adminData.salary.employmentInsurance || 0);\r\n\r\n    // 인적공제 (부양가족 수)\r\n    const dependents = 1 +\r\n        (adminData.family?.spouse ? 1 : 0) +\r\n        (adminData.family?.children || 0) +\r\n        (adminData.family?.parents || 0) +\r\n        (adminData.family?.siblings || 0) +\r\n        (adminData.family?.foster || 0) +\r\n        (adminData.family?.recipient || 0);\r\n    const personalDeduction = dependents * 1500000;\r\n\r\n    // 근로소득금액 계산 (총급여 - 근로소득공제)\r\n    let incomeDeduction = 0;\r\n    if (salary <= 5000000) {\r\n        incomeDeduction = salary * 0.7;\r\n    } else if (salary <= 15000000) {\r\n        incomeDeduction = 3500000 + (salary - 5000000) * 0.4;\r\n    } else if (salary <= 45000000) {\r\n        incomeDeduction = 7500000 + (salary - 15000000) * 0.15;\r\n    } else if (salary <= 100000000) {\r\n        incomeDeduction = 12000000 + (salary - 45000000) * 0.05;\r\n    } else {\r\n        incomeDeduction = 14750000 + (salary - 100000000) * 0.02;\r\n    }\r\n    const earnedIncome = Math.round(salary - incomeDeduction); // 근로소득금액\r\n\r\n\r\n    const items: DeductionAnalysis[] = [\r\n        {\r\n            id: \"0\",\r\n            category: \"기본공제 (인적공제)\",\r\n            type: \"소득공제\",\r\n            amount: personalDeduction,\r\n            limit: personalDeduction,  // 한도 없음, 부양가족 수에 따라 결정\r\n            status: \"optimal\",\r\n            thresholdInfo: `부양가족 ${dependents}명 × 150만원`,\r\n        },\r\n        (() => {\r\n            // 4대보험 상세 내역\r\n            const nationalPension = adminData.salary.nationalPension || 0;\r\n            const healthInsurance = adminData.salary.healthInsurance || 0;\r\n            const longTermCare = adminData.salary.longTermCare || 0;\r\n            const employmentInsurance = adminData.salary.employmentInsurance || 0;\r\n            const total = nationalPension + healthInsurance + longTermCare + employmentInsurance;\r\n\r\n            const infoLines: string[] = [];\r\n            infoLines.push(`국민연금: ${nationalPension.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`건강보험: ${healthInsurance.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`요양보험: ${longTermCare.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`고용보험: ${employmentInsurance.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`──────────────`);\r\n            infoLines.push(`합계: ${total.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            return {\r\n                id: \"0-1\",\r\n                category: \"4대보험\",\r\n                type: \"소득공제\" as const,\r\n                amount: total,\r\n                limit: total,    // 전액 공제, 한도 없음\r\n                status: \"optimal\" as const,\r\n                thresholdInfo: infoLines.join(\"\\n\"),\r\n            };\r\n        })(),\r\n        {\r\n            id: \"1\",\r\n            category: \"신용카드 등 사용금액\",\r\n            type: \"소득공제\",\r\n            amount: finalCardDeduction,                    // 25% 초과분에 공제율 적용한 실제 공제액\r\n            limit: cardLimit,                             // 기본 600만 + 자녀 100만 = 최대 700만원\r\n            status: getCardStatus(),\r\n            thresholdInfo: `25% 문턱: ${Math.round(minSpending).toLocaleString(\"ko-KR\")}원\\n지출: ${totalCardSpending.toLocaleString(\"ko-KR\")}원\\n초과분: ${Math.max(0, totalCardSpending - Math.round(minSpending)).toLocaleString(\"ko-KR\")}원`,\r\n        },\r\n        (() => {\r\n            // 주택자금 - 청약저축 + 임차차입금원리금상환액\r\n            // 청약저축: 납입한도 300만원\r\n            // 임차차입금: 원리금상환액\r\n            // 공제율: 40%, 공제한도: 400만원 (최종 공제액 기준)\r\n\r\n            // 청약저축 데이터 (세대주/배우자)\r\n            const headAmount = deductions.housingSubscriptionHead ?? getSpendingItemAmount(\"주택자금(청약저축) - 세대주\");\r\n            const spouseAmount = deductions.housingSubscriptionSpouse ?? getSpendingItemAmount(\"주택자금(청약저축) - 배우자\");\r\n            const subscriptionTotal = headAmount + spouseAmount;\r\n\r\n            // 청약저축 납입한도 300만원 적용\r\n            const limitedSubscription = Math.min(subscriptionTotal, 3000000);\r\n\r\n            // 임차차입금원리금상환액\r\n            const loanAmount = deductions.housingLoan || 0;\r\n\r\n            // 합산액 (청약저축 한도 적용 후 + 임차차입금)\r\n            const combinedTotal = limitedSubscription + loanAmount;\r\n\r\n            // 공제액 계산: 합산액 × 40%\r\n            const calculatedDeduction = Math.round(combinedTotal * 0.4);\r\n\r\n            // 공제한도 400만원 적용 (최종 공제액 기준)\r\n            const finalDeduction = Math.min(calculatedDeduction, 4000000);\r\n\r\n            // thresholdInfo 생성\r\n            const infoLines: string[] = [];\r\n            infoLines.push(\"【 청약저축 + 임차차입금 합산 】\");\r\n            if (headAmount > 0 || spouseAmount > 0) {\r\n                infoLines.push(`청약저축:`);\r\n                if (headAmount > 0) infoLines.push(`  세대주: ${headAmount.toLocaleString(\"ko-KR\")}원`);\r\n                if (spouseAmount > 0) infoLines.push(`  배우자: ${spouseAmount.toLocaleString(\"ko-KR\")}원`);\r\n                if (subscriptionTotal > 3000000) {\r\n                    infoLines.push(`  (납입한도 300만원 적용)`);\r\n                }\r\n            }\r\n            if (loanAmount > 0) {\r\n                infoLines.push(`임차차입금: ${loanAmount.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n            infoLines.push(`──────────────`);\r\n            infoLines.push(`합산: ${combinedTotal.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`└ ${combinedTotal.toLocaleString(\"ko-KR\")} × 40%`);\r\n            infoLines.push(`= ${calculatedDeduction.toLocaleString(\"ko-KR\")}원`);\r\n            if (calculatedDeduction > 4000000) {\r\n                infoLines.push(`(공제한도 400만원 적용)`);\r\n                infoLines.push(`→ ${finalDeduction.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n\r\n            return {\r\n                id: \"2\",\r\n                category: \"주택자금(청약저축+임차차입금)\",\r\n                type: \"소득공제\" as const,\r\n                amount: finalDeduction,\r\n                limit: 4000000,\r\n                status: getStatus(calculatedDeduction / 4000000),\r\n                thresholdInfo: infoLines.join(\"\\n\"),\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 장기주택저당차입금이자상환액 - 옵션별 한도 적용\r\n            // 15년이상 고정금리+비거치식: 1,800만원\r\n            // 15년이상 고정금리 or 비거치식: 1,500만원\r\n            // 15년이상 기타: 500만원\r\n            // 10년이상 고정금리 or 비거치식: 300만원\r\n\r\n            const mortgage15Fixed = deductions.housingMortgage15Fixed || 0;\r\n            const mortgage15Either = deductions.housingMortgage15Either || 0;\r\n            const mortgage15Other = deductions.housingMortgage15Other || 0;\r\n            const mortgage10Either = deductions.housingMortgage10Either || 0;\r\n\r\n            // 레거시 호환\r\n            const mortgageLegacy = deductions.housingMortgage || 0;\r\n\r\n            // 옵션별 한도 적용\r\n            const limited15Fixed = Math.min(mortgage15Fixed, 18000000);\r\n            const limited15Either = Math.min(mortgage15Either, 15000000);\r\n            const limited15Other = Math.min(mortgage15Other, 5000000);\r\n            const limited10Either = Math.min(mortgage10Either, 3000000);\r\n\r\n            // 총 공제액 (이자 전액 공제이므로 한도 적용 금액 = 공제액)\r\n            const totalDeduction = limited15Fixed + limited15Either + limited15Other + limited10Either + mortgageLegacy;\r\n            const maxLimit = 18000000;  // 최대 한도 표시용\r\n\r\n            // thresholdInfo 생성\r\n            const infoLines: string[] = [];\r\n            infoLines.push(\"【 장기주택저당차입금 이자상환액 】\");\r\n            if (mortgage15Fixed > 0) {\r\n                infoLines.push(`15년↑ 고정+비거치: ${mortgage15Fixed.toLocaleString(\"ko-KR\")}원`);\r\n                if (mortgage15Fixed > 18000000) infoLines.push(`  (한도 1,800만원 적용)`);\r\n            }\r\n            if (mortgage15Either > 0) {\r\n                infoLines.push(`15년↑ 고정or비거치: ${mortgage15Either.toLocaleString(\"ko-KR\")}원`);\r\n                if (mortgage15Either > 15000000) infoLines.push(`  (한도 1,500만원 적용)`);\r\n            }\r\n            if (mortgage15Other > 0) {\r\n                infoLines.push(`15년↑ 기타: ${mortgage15Other.toLocaleString(\"ko-KR\")}원`);\r\n                if (mortgage15Other > 5000000) infoLines.push(`  (한도 500만원 적용)`);\r\n            }\r\n            if (mortgage10Either > 0) {\r\n                infoLines.push(`10년↑ 고정or비거치: ${mortgage10Either.toLocaleString(\"ko-KR\")}원`);\r\n                if (mortgage10Either > 3000000) infoLines.push(`  (한도 300만원 적용)`);\r\n            }\r\n            if (mortgageLegacy > 0) {\r\n                infoLines.push(`기타: ${mortgageLegacy.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n            if (totalDeduction > 0) {\r\n                infoLines.push(`──────────────`);\r\n                infoLines.push(`= ${totalDeduction.toLocaleString(\"ko-KR\")}원`);\r\n            } else {\r\n                infoLines.push(`지출: 0원`);\r\n            }\r\n\r\n            return {\r\n                id: \"2-2\",\r\n                category: \"주택자금(장기주택저당차입금이자\\n상환액)\",\r\n                type: \"소득공제\" as const,\r\n                amount: totalDeduction,\r\n                limit: maxLimit,\r\n                status: getStatus(totalDeduction / maxLimit),\r\n                thresholdInfo: infoLines.join(\"\\n\"),\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 월세 세액공제 - 급여에 따라 공제율 결정\r\n            const rentAmount = deductions.housingRent || 0;\r\n            const rentRate = salary <= 55000000 ? 0.17 : 0.15;\r\n            const rentRatePercent = salary <= 55000000 ? \"17%\" : \"15%\";\r\n            const limitedRent = Math.min(rentAmount, 10000000);\r\n            const rentCredit = Math.round(limitedRent * rentRate);\r\n\r\n            // thresholdInfo 생성 - 기부금처럼 세부 계산식 표시\r\n            const infoLines: string[] = [];\r\n            infoLines.push(`총급여: ${salary.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`→ ${salary <= 55000000 ? \"5,500만원 이하\" : \"5,500만원 초과\"}`);\r\n            infoLines.push(`──────────────`);\r\n            infoLines.push(`지출: ${rentAmount.toLocaleString(\"ko-KR\")}원`);\r\n            if (rentAmount > 10000000) {\r\n                infoLines.push(`한도: ${(10000000).toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n            infoLines.push(`└ ${limitedRent.toLocaleString(\"ko-KR\")} × ${rentRatePercent}`);\r\n            infoLines.push(`= ${rentCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            return {\r\n                id: \"2-3\",\r\n                category: \"월세 세액공제\",\r\n                type: \"세액공제\" as const,\r\n                amount: rentCredit,\r\n                limit: 10000000,\r\n                status: getStatus(rentAmount / 10000000),\r\n                thresholdInfo: infoLines.join(\"\\n\"),\r\n                maxBenefit: 10000000 * rentRate,\r\n                rentLimitInfo: {\r\n                    salary: salary,\r\n                    limit: 10000000,\r\n                    rate: rentRate,\r\n                    ratePercent: rentRatePercent,\r\n                    isLowIncome: salary <= 55000000,\r\n                },\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 의료비 계산 및 계산식 생성\r\n            const infertility = deductions.medicalInfertility || 0;  // 난임시술비: 30%\r\n            const premature = deductions.medicalPremature || 0;      // 미숙아,선천성: 20%\r\n            const selfMedical = deductions.medicalSelf || 0;         // 본인,장애,65세,6세: 15%\r\n            const familyMedical = deductions.medicalFamily || 0;     // 그밖부양가족: 15%\r\n\r\n            // 총 의료비 (레거시 호환 포함)\r\n            const totalMedical = infertility + premature + selfMedical + familyMedical + (deductions.medical || 0);\r\n\r\n            // 3% 문턱\r\n            const threshold = Math.round(salary * 0.03);\r\n            const exceeds = totalMedical > threshold;\r\n\r\n            // 각 카테고리별 세액공제액 계산 (3% 문턱은 전체에 적용)\r\n            // 실제로는 그밖부양가족만 700만원 한도 적용\r\n            const FAMILY_LIMIT = 7000000;\r\n            const familyLimited = Math.min(familyMedical, FAMILY_LIMIT);\r\n\r\n            const infertilityCredit = Math.round(infertility * 0.30);\r\n            const prematureCredit = Math.round(premature * 0.20);\r\n            const selfCredit = Math.round(selfMedical * 0.15);\r\n            const familyCredit = Math.round(familyLimited * 0.15);\r\n\r\n            // 총 세액공제액 (3% 문턱 초과분에만 적용)\r\n            const totalCredit = exceeds ?\r\n                Math.round(Math.max(0, infertility - Math.min(threshold, infertility)) * 0.30) +\r\n                Math.round(Math.max(0, premature) * 0.20) +\r\n                Math.round(Math.max(0, selfMedical) * 0.15) +\r\n                Math.round(Math.min(familyMedical, FAMILY_LIMIT) * 0.15)\r\n                : 0;\r\n\r\n            // thresholdInfo 생성 - 각 카테고리별 계산식 표시\r\n            const infoLines: string[] = [];\r\n\r\n            // 3% 문턱 정보 추가 (신용카드와 동일한 형식)\r\n            infoLines.push(`3% 문턱: ${threshold.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`지출: ${totalMedical.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`초과분: ${Math.max(0, totalMedical - threshold).toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`──────────────`);\r\n\r\n            // 난임시술비\r\n            infoLines.push(`난임시술비: ${infertility.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`└ ${infertility.toLocaleString(\"ko-KR\")} × 30%\\n= ${infertilityCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            // 미숙아,선천성\r\n            infoLines.push(`미숙아·선천성: ${premature.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`└ ${premature.toLocaleString(\"ko-KR\")} × 20%\\n= ${prematureCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            // 본인,장애,65세,6세\r\n            infoLines.push(`본인/장애/만65/6세: ${selfMedical.toLocaleString(\"ko-KR\")}원`);\r\n            infoLines.push(`└ ${selfMedical.toLocaleString(\"ko-KR\")} × 15%\\n= ${selfCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            // 그밖부양가족 (700만원 한도)\r\n            if (familyMedical > FAMILY_LIMIT) {\r\n                infoLines.push(`그 밖의 부양가족: ${familyMedical.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(`→ 한도: ${FAMILY_LIMIT.toLocaleString(\"ko-KR\")}원`);\r\n            } else {\r\n                infoLines.push(`그 밖의 부양가족: ${familyMedical.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n            infoLines.push(`└ ${familyLimited.toLocaleString(\"ko-KR\")} × 15%\\n= ${familyCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            // 합계\r\n            const totalCreditSum = infertilityCredit + prematureCredit + selfCredit + familyCredit;\r\n            infoLines.push(`──────────────`);\r\n            infoLines.push(`합계: ${totalCreditSum.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            return {\r\n                id: \"3\",\r\n                category: \"의료비\",\r\n                type: \"세액공제\" as const,\r\n                amount: totalCreditSum,\r\n                limit: FAMILY_LIMIT,\r\n                status: getStatus(totalMedical / 10000000),\r\n                thresholdInfo: infoLines.join(\"\\n\"),\r\n                maxBenefit: FAMILY_LIMIT * 0.15,\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 교육비 계산 및 계산식 생성\r\n            const eduSelf = deductions.educationSelf || 0;      // 본인: 한도 없음\r\n\r\n            // 자녀별 교육비 (1인당 300만원 한도)\r\n            const pre1 = deductions.educationPreschool1 || 0;\r\n            const pre2 = deductions.educationPreschool2 || 0;\r\n            const pre3 = deductions.educationPreschool3 || 0;\r\n            const k12_1 = deductions.educationK12_1 || 0;\r\n            const k12_2 = deductions.educationK12_2 || 0;\r\n            const k12_3 = deductions.educationK12_3 || 0;\r\n\r\n            // 자녀별 대학 교육비 (1인당 900만원 한도)\r\n            const univ1 = deductions.educationUniv1 || 0;\r\n            const univ2 = deductions.educationUniv2 || 0;\r\n            const univ3 = deductions.educationUniv3 || 0;\r\n\r\n            // 한도 적용\r\n            const CHILD_LIMIT = 3000000;      // 미취학·초중고: 1인당 300만원\r\n            const UNIV_LIMIT = 9000000;       // 대학: 1인당 900만원\r\n\r\n            const eduSelfLimited = eduSelf; // 본인은 한도 없음\r\n            const pre1Limited = Math.min(pre1, CHILD_LIMIT);\r\n            const pre2Limited = Math.min(pre2, CHILD_LIMIT);\r\n            const pre3Limited = Math.min(pre3, CHILD_LIMIT);\r\n            const k12_1Limited = Math.min(k12_1, CHILD_LIMIT);\r\n            const k12_2Limited = Math.min(k12_2, CHILD_LIMIT);\r\n            const k12_3Limited = Math.min(k12_3, CHILD_LIMIT);\r\n            const univ1Limited = Math.min(univ1, UNIV_LIMIT);\r\n            const univ2Limited = Math.min(univ2, UNIV_LIMIT);\r\n            const univ3Limited = Math.min(univ3, UNIV_LIMIT);\r\n\r\n            // 세액공제액 계산 (15%)\r\n            const eduSelfCredit = Math.round(eduSelfLimited * 0.15);\r\n            const pre1Credit = Math.round(pre1Limited * 0.15);\r\n            const pre2Credit = Math.round(pre2Limited * 0.15);\r\n            const pre3Credit = Math.round(pre3Limited * 0.15);\r\n            const k12_1Credit = Math.round(k12_1Limited * 0.15);\r\n            const k12_2Credit = Math.round(k12_2Limited * 0.15);\r\n            const k12_3Credit = Math.round(k12_3Limited * 0.15);\r\n            const univ1Credit = Math.round(univ1Limited * 0.15);\r\n            const univ2Credit = Math.round(univ2Limited * 0.15);\r\n            const univ3Credit = Math.round(univ3Limited * 0.15);\r\n\r\n            const totalCredit = eduSelfCredit + pre1Credit + pre2Credit + pre3Credit +\r\n                k12_1Credit + k12_2Credit + k12_3Credit + univ1Credit + univ2Credit + univ3Credit;\r\n\r\n            // thresholdInfo 생성 - 금액이 있는 항목만 계산식과 함께 표시\r\n            const infoLines: string[] = [];\r\n\r\n            // 헬퍼 함수: 교육비 계산식 추가\r\n            const addEduInfo = (label: string, amount: number, limit: number, limited: number, credit: number) => {\r\n                if (amount > 0) {\r\n                    if (amount > limit) {\r\n                        infoLines.push(`${label}: ${amount.toLocaleString(\"ko-KR\")}원`);\r\n                        infoLines.push(`→ 한도: ${limited.toLocaleString(\"ko-KR\")}원`);\r\n                    } else {\r\n                        infoLines.push(`${label}: ${amount.toLocaleString(\"ko-KR\")}원`);\r\n                    }\r\n                    infoLines.push(`└ ${limited.toLocaleString(\"ko-KR\")} × 15%\\n= ${credit.toLocaleString(\"ko-KR\")}원`);\r\n                }\r\n            };\r\n\r\n            if (eduSelf > 0) {\r\n                infoLines.push(`본인: ${eduSelf.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(`└ ${eduSelf.toLocaleString(\"ko-KR\")} × 15%\\n= ${eduSelfCredit.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n\r\n            addEduInfo(\"미취학-자녀1\", pre1, CHILD_LIMIT, pre1Limited, pre1Credit);\r\n            addEduInfo(\"미취학-자녀2\", pre2, CHILD_LIMIT, pre2Limited, pre2Credit);\r\n            addEduInfo(\"미취학-자녀3\", pre3, CHILD_LIMIT, pre3Limited, pre3Credit);\r\n            addEduInfo(\"초중고-자녀1\", k12_1, CHILD_LIMIT, k12_1Limited, k12_1Credit);\r\n            addEduInfo(\"초중고-자녀2\", k12_2, CHILD_LIMIT, k12_2Limited, k12_2Credit);\r\n            addEduInfo(\"초중고-자녀3\", k12_3, CHILD_LIMIT, k12_3Limited, k12_3Credit);\r\n            addEduInfo(\"대학-자녀1\", univ1, UNIV_LIMIT, univ1Limited, univ1Credit);\r\n            addEduInfo(\"대학-자녀2\", univ2, UNIV_LIMIT, univ2Limited, univ2Credit);\r\n            addEduInfo(\"대학-자녀3\", univ3, UNIV_LIMIT, univ3Limited, univ3Credit);\r\n\r\n            if (infoLines.length > 0) {\r\n                infoLines.push(`──────────────`);\r\n                infoLines.push(`합계: ${totalCredit.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n\r\n            const totalEducation = eduSelf + pre1 + pre2 + pre3 + k12_1 + k12_2 + k12_3 + univ1 + univ2 + univ3;\r\n\r\n            return {\r\n                id: \"4\",\r\n                category: \"교육비\",\r\n                type: \"세액공제\" as const,\r\n                amount: totalCredit,\r\n                limit: 9000000,  // 대학 기준 최대 한도\r\n                status: getStatus(totalEducation > 0 ? Math.min(totalEducation / 9000000, 1) : 0),\r\n                thresholdInfo: infoLines.length > 0 ? infoLines.join(\"\\n\") : \"본인: 한도 없음\\n미취학: 1인당 3,000,000원\\n초중고: 1인당 3,000,000원\\n대학: 1인당 9,000,000원\",\r\n                maxBenefit: 9000000 * 0.15,\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 정치자금 계산 및 계산식 생성 (한도: 근로소득금액)\r\n            const politicalRaw = deductions.donationPolitical || 0;\r\n            const politicalLimit = earnedIncome; // 정치자금 한도 = 근로소득금액\r\n            const political = Math.min(politicalRaw, politicalLimit); // 한도 적용\r\n            const isLimited = politicalRaw > politicalLimit;\r\n            let politicalCredit = 0;\r\n            let politicalFormula = \"\";\r\n            if (political > 0) {\r\n                if (political <= 100000) {\r\n                    politicalCredit = Math.round(political * 100 / 110);\r\n                    politicalFormula = `└ ${political.toLocaleString(\"ko-KR\")} × 100/110\\n= ${politicalCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else if (political <= 30000000) {\r\n                    const baseCredit = Math.round(100000 * 100 / 110);\r\n                    const excessCredit = Math.round((political - 100000) * 0.15);\r\n                    politicalCredit = baseCredit + excessCredit;\r\n                    politicalFormula = `└ 10만원 이하: 100,000 × 100/110\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 10만원 초과: ${(political - 100000).toLocaleString(\"ko-KR\")} × 15%\\n= ${excessCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else {\r\n                    const baseCredit = Math.round(100000 * 100 / 110);\r\n                    const midCredit = Math.round(29900000 * 0.15);\r\n                    const highCredit = Math.round((political - 30000000) * 0.25);\r\n                    politicalCredit = baseCredit + midCredit + highCredit;\r\n                    politicalFormula = `└ 10만원 이하: 100,000 × 100/110\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 10만원~3천만원: 29,900,000 × 15%\\n= ${midCredit.toLocaleString(\"ko-KR\")}원\\n└ 3천만원 초과: ${(political - 30000000).toLocaleString(\"ko-KR\")} × 25%\\n= ${highCredit.toLocaleString(\"ko-KR\")}원`;\r\n                }\r\n            }\r\n\r\n\r\n            // 고향사랑 계산 및 계산식 생성\r\n            const hometown = deductions.donationHometown || 0;\r\n            let hometownCredit = 0;\r\n            let hometownFormula = \"\";\r\n            if (hometown > 0) {\r\n                if (hometown <= 100000) {\r\n                    hometownCredit = Math.round(hometown * 100 / 110);\r\n                    hometownFormula = `└ ${hometown.toLocaleString(\"ko-KR\")} × 100/110\\n= ${hometownCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else {\r\n                    const baseCredit = Math.round(100000 * 100 / 110);\r\n                    const excessCredit = Math.round((hometown - 100000) * 0.15);\r\n                    hometownCredit = baseCredit + excessCredit;\r\n                    hometownFormula = `└ 10만원 이하: 100,000 × 100/110\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 10만원 초과: ${(hometown - 100000).toLocaleString(\"ko-KR\")} × 15%\\n= ${excessCredit.toLocaleString(\"ko-KR\")}원`;\r\n                }\r\n            }\r\n\r\n            // 고향사랑특별재난 계산 및 계산식 생성\r\n            const disaster = deductions.donationDisaster || 0;\r\n            let disasterCredit = 0;\r\n            let disasterFormula = \"\";\r\n            if (disaster > 0) {\r\n                if (disaster <= 100000) {\r\n                    disasterCredit = Math.round(disaster * 100 / 110);\r\n                    disasterFormula = `└ ${disaster.toLocaleString(\"ko-KR\")} × 100/110\\n= ${disasterCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else {\r\n                    const baseCredit = Math.round(100000 * 100 / 110);\r\n                    const excessCredit = Math.round((disaster - 100000) * 0.3);\r\n                    disasterCredit = baseCredit + excessCredit;\r\n                    disasterFormula = `└ 10만원 이하: 100,000 × 100/110\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 10만원 초과: ${(disaster - 100000).toLocaleString(\"ko-KR\")} × 30%\\n= ${excessCredit.toLocaleString(\"ko-KR\")}원`;\r\n                }\r\n            }\r\n\r\n            // 특례기부금 계산 및 계산식 생성\r\n            const special = deductions.donationSpecial || 0;\r\n            let specialCredit = 0;\r\n            let specialFormula = \"\";\r\n            if (special > 0) {\r\n                if (special <= 10000000) {\r\n                    specialCredit = Math.round(special * 0.15);\r\n                    specialFormula = `└ ${special.toLocaleString(\"ko-KR\")} × 15%\\n= ${specialCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else {\r\n                    const baseCredit = Math.round(10000000 * 0.15);\r\n                    const excessCredit = Math.round((special - 10000000) * 0.3);\r\n                    specialCredit = baseCredit + excessCredit;\r\n                    specialFormula = `└ 1천만원 이하: 10,000,000 × 15%\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 1천만원 초과: ${(special - 10000000).toLocaleString(\"ko-KR\")} × 30%\\n= ${excessCredit.toLocaleString(\"ko-KR\")}원`;\r\n                }\r\n            }\r\n\r\n            // 우리사주조합 계산 및 계산식 생성\r\n            const stock = deductions.donationStock || 0;\r\n            let stockCredit = 0;\r\n            let stockFormula = \"\";\r\n            if (stock > 0) {\r\n                if (stock <= 10000000) {\r\n                    stockCredit = Math.round(stock * 0.15);\r\n                    stockFormula = `└ ${stock.toLocaleString(\"ko-KR\")} × 15%\\n= ${stockCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else {\r\n                    const baseCredit = Math.round(10000000 * 0.15);\r\n                    const excessCredit = Math.round((stock - 10000000) * 0.3);\r\n                    stockCredit = baseCredit + excessCredit;\r\n                    stockFormula = `└ 1천만원 이하: 10,000,000 × 15%\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 1천만원 초과: ${(stock - 10000000).toLocaleString(\"ko-KR\")} × 30%\\n= ${excessCredit.toLocaleString(\"ko-KR\")}원`;\r\n                }\r\n            }\r\n\r\n            // 일반기부금(종교) 계산 및 계산식 생성\r\n            const religious = deductions.donationReligious || 0;\r\n            let religiousCredit = 0;\r\n            let religiousFormula = \"\";\r\n            if (religious > 0) {\r\n                if (religious <= 10000000) {\r\n                    religiousCredit = Math.round(religious * 0.15);\r\n                    religiousFormula = `└ ${religious.toLocaleString(\"ko-KR\")} × 15%\\n= ${religiousCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else {\r\n                    const baseCredit = Math.round(10000000 * 0.15);\r\n                    const excessCredit = Math.round((religious - 10000000) * 0.3);\r\n                    religiousCredit = baseCredit + excessCredit;\r\n                    religiousFormula = `└ 1천만원 이하: 10,000,000 × 15%\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 1천만원 초과: ${(religious - 10000000).toLocaleString(\"ko-KR\")} × 30%\\n= ${excessCredit.toLocaleString(\"ko-KR\")}원`;\r\n                }\r\n            }\r\n\r\n            // 일반기부금(종교 외) 계산 및 계산식 생성\r\n            const nonReligious = deductions.donationNonReligious || 0;\r\n            let nonReligiousCredit = 0;\r\n            let nonReligiousFormula = \"\";\r\n            if (nonReligious > 0) {\r\n                if (nonReligious <= 10000000) {\r\n                    nonReligiousCredit = Math.round(nonReligious * 0.15);\r\n                    nonReligiousFormula = `└ ${nonReligious.toLocaleString(\"ko-KR\")} × 15%\\n= ${nonReligiousCredit.toLocaleString(\"ko-KR\")}원`;\r\n                } else {\r\n                    const baseCredit = Math.round(10000000 * 0.15);\r\n                    const excessCredit = Math.round((nonReligious - 10000000) * 0.3);\r\n                    nonReligiousCredit = baseCredit + excessCredit;\r\n                    nonReligiousFormula = `└ 1천만원 이하: 10,000,000 × 15%\\n= ${baseCredit.toLocaleString(\"ko-KR\")}원\\n└ 1천만원 초과: ${(nonReligious - 10000000).toLocaleString(\"ko-KR\")} × 30%\\n= ${excessCredit.toLocaleString(\"ko-KR\")}원`;\r\n                }\r\n            }\r\n\r\n            const totalCredit = politicalCredit + hometownCredit + disasterCredit + specialCredit + stockCredit + religiousCredit + nonReligiousCredit;\r\n\r\n            // thresholdInfo 생성 - 금액이 있는 항목만 계산식과 함께 표시\r\n            const infoLines: string[] = [];\r\n            if (political > 0) {\r\n                if (isLimited) {\r\n                    infoLines.push(`정치자금: ${politicalRaw.toLocaleString(\"ko-KR\")}원`);\r\n                    infoLines.push(`→ 한도: ${political.toLocaleString(\"ko-KR\")}원`);\r\n                } else {\r\n                    infoLines.push(`정치자금: ${political.toLocaleString(\"ko-KR\")}원`);\r\n                }\r\n                infoLines.push(politicalFormula);\r\n            }\r\n            if (hometown > 0) {\r\n                infoLines.push(`고향사랑: ${hometown.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(hometownFormula);\r\n            }\r\n            if (disaster > 0) {\r\n                infoLines.push(`특별재난: ${disaster.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(disasterFormula);\r\n            }\r\n            if (special > 0) {\r\n                infoLines.push(`특례기부금: ${special.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(specialFormula);\r\n            }\r\n            if (stock > 0) {\r\n                infoLines.push(`우리사주: ${stock.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(stockFormula);\r\n            }\r\n            if (religious > 0) {\r\n                infoLines.push(`종교기부: ${religious.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(religiousFormula);\r\n            }\r\n            if (nonReligious > 0) {\r\n                infoLines.push(`일반기부: ${nonReligious.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(nonReligiousFormula);\r\n            }\r\n            if (infoLines.length > 0) {\r\n                infoLines.push(`──────────────`);\r\n                infoLines.push(`합계: ${totalCredit.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n\r\n            return {\r\n                id: \"5\",\r\n                category: \"기부금\",\r\n                type: \"세액공제\" as const,\r\n                amount: totalCredit,\r\n                limit: earnedIncome,\r\n                status: getStatus(Math.min(1, (political + hometown + disaster + special + stock + religious + nonReligious) / earnedIncome)),\r\n                thresholdInfo: infoLines.length > 0 ? infoLines.join(\"\\n\") : \"기부금 내역이 없습니다\",\r\n                maxBenefit: earnedIncome * 0.3,\r\n                earnedIncome: earnedIncome,\r\n                donationLimits: {\r\n                    politicalFund: earnedIncome,\r\n                    hometownDisaster: 2000000,\r\n                    specialDonation: earnedIncome,\r\n                    employeeStock: Math.round(earnedIncome * 0.3),\r\n                    generalReligious: Math.round(earnedIncome * 0.1),\r\n                    generalNonReligious: Math.round(earnedIncome * 0.3),\r\n                },\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 연금저축/IRP 계산 및 계산식 생성\r\n            // 레거시 호환: pensionSavings가 없으면 pension 필드 사용\r\n            const savingsAmount = deductions?.pensionSavings || deductions?.pension || 0;\r\n            const irpAmount = deductions?.pensionIRP || 0;\r\n\r\n            // 한도 적용\r\n            const SAVINGS_LIMIT = 6000000; // 연금저축: 600만원\r\n            const TOTAL_LIMIT = 9000000;   // 연금저축+IRP 합산: 900만원\r\n\r\n            const savingsLimited = Math.min(savingsAmount, SAVINGS_LIMIT);\r\n            const remainingLimit = Math.max(0, TOTAL_LIMIT - savingsLimited);\r\n            const irpLimited = Math.min(irpAmount, remainingLimit);\r\n\r\n            // 세액공제액 계산 (12%)\r\n            const savingsCredit = Math.round(savingsLimited * 0.12);\r\n            const irpCredit = Math.round(irpLimited * 0.12);\r\n            const totalCredit = savingsCredit + irpCredit;\r\n\r\n            // thresholdInfo 생성 - 연금저축과 IRP 각각 계산식 표시 (0원이어도 표시)\r\n            const infoLines: string[] = [];\r\n\r\n            // 연금저축 계산식 (항상 표시)\r\n            if (savingsAmount > SAVINGS_LIMIT) {\r\n                infoLines.push(`연금저축: ${savingsAmount.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(`→ 한도: ${savingsLimited.toLocaleString(\"ko-KR\")}원`);\r\n            } else {\r\n                infoLines.push(`연금저축: ${savingsAmount.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n            infoLines.push(`└ ${savingsLimited.toLocaleString(\"ko-KR\")} × 12%\\n= ${savingsCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            // 퇴직연금(IRP) 계산식 (항상 표시)\r\n            if (irpAmount > remainingLimit && remainingLimit > 0) {\r\n                infoLines.push(`퇴직연금(IRP): ${irpAmount.toLocaleString(\"ko-KR\")}원`);\r\n                infoLines.push(`→ 한도: ${irpLimited.toLocaleString(\"ko-KR\")}원`);\r\n            } else {\r\n                infoLines.push(`퇴직연금(IRP): ${irpAmount.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n            infoLines.push(`└ ${irpLimited.toLocaleString(\"ko-KR\")} × 12%\\n= ${irpCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            // 합계 표시\r\n            infoLines.push(`──────────────`);\r\n            infoLines.push(`합계: ${totalCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            const totalAmount = savingsAmount + irpAmount;\r\n\r\n            return {\r\n                id: \"6\",\r\n                category: \"연금저축/IRP\",\r\n                type: \"세액공제\" as const,\r\n                amount: totalCredit,\r\n                limit: TOTAL_LIMIT,\r\n                status: getStatus(totalAmount / TOTAL_LIMIT),\r\n                thresholdInfo: infoLines.join(\"\\n\"),\r\n                maxBenefit: TOTAL_LIMIT * 0.12,\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 보험료 계산 및 계산식 생성\r\n            const insuranceAmount = deductions.insurance || 0;\r\n            const INSURANCE_LIMIT = 1000000; // 한도: 100만원\r\n            const limitedAmount = Math.min(insuranceAmount, INSURANCE_LIMIT);\r\n            const taxCredit = Math.round(limitedAmount * 0.12); // 12% 세액공제\r\n\r\n            // thresholdInfo 생성\r\n            const infoLines: string[] = [];\r\n            if (insuranceAmount > 0) {\r\n                infoLines.push(`납입액: ${insuranceAmount.toLocaleString(\"ko-KR\")}원`);\r\n                if (insuranceAmount > INSURANCE_LIMIT) {\r\n                    infoLines.push(`→ 한도: ${INSURANCE_LIMIT.toLocaleString(\"ko-KR\")}원`);\r\n                }\r\n                infoLines.push(`└ ${limitedAmount.toLocaleString(\"ko-KR\")} × 12%\\n= ${taxCredit.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n\r\n            return {\r\n                id: \"7\",\r\n                category: \"보험료\",\r\n                type: \"세액공제\" as const,\r\n                amount: taxCredit,\r\n                limit: INSURANCE_LIMIT,\r\n                status: getStatus(insuranceAmount / INSURANCE_LIMIT),\r\n                thresholdInfo: infoLines.length > 0 ? infoLines.join(\"\\n\") : \"보장성 보험: 연 100만원 한도\\n세액공제율: 12%\",\r\n                maxBenefit: INSURANCE_LIMIT * 0.12,\r\n            };\r\n        })(),\r\n        (() => {\r\n            // 자녀 세액공제 계산 및 계산식 생성\r\n            const childrenOver8 = adminData.family?.childrenOver8 || 0;\r\n            const birthAdoption = adminData.family?.birthAdoption || \"none\";\r\n\r\n            // 자녀 세액공제 (만 8세 이상)\r\n            // 1명: 25만원\r\n            // 2명: 55만원\r\n            // 3명 이상: 55만원 + (추가 인원 × 40만원)\r\n            let childCredit = 0;\r\n            if (childrenOver8 === 1) {\r\n                childCredit = 250000; // 1명\r\n            } else if (childrenOver8 === 2) {\r\n                childCredit = 550000; // 2명\r\n            } else if (childrenOver8 >= 3) {\r\n                childCredit = 550000 + (childrenOver8 - 2) * 400000; // 3명 이상\r\n            }\r\n\r\n            // 출생·입양 공제\r\n            let birthAdoptionCredit = 0;\r\n            let birthAdoptionName = \"\";\r\n            switch (birthAdoption) {\r\n                case \"first\":\r\n                    birthAdoptionCredit = 300000;\r\n                    birthAdoptionName = \"첫째\";\r\n                    break;\r\n                case \"second\":\r\n                    birthAdoptionCredit = 500000;\r\n                    birthAdoptionName = \"둘째\";\r\n                    break;\r\n                case \"third1\":\r\n                    birthAdoptionCredit = 700000;\r\n                    birthAdoptionName = \"셋째 이상 1명\";\r\n                    break;\r\n                case \"third2\":\r\n                    birthAdoptionCredit = 1400000;\r\n                    birthAdoptionName = \"셋째 이상 2명\";\r\n                    break;\r\n                case \"third3\":\r\n                    birthAdoptionCredit = 2100000;\r\n                    birthAdoptionName = \"셋째 이상 3명\";\r\n                    break;\r\n            }\r\n\r\n            const totalCredit = childCredit + birthAdoptionCredit;\r\n\r\n            // thresholdInfo 생성 - 계산식 표시\r\n            const infoLines: string[] = [];\r\n\r\n            // 자녀 세액공제 계산식\r\n            infoLines.push(`자녀 세액공제 (만 8세 이상 ${childrenOver8}명)`);\r\n            if (childrenOver8 > 0) {\r\n                if (childrenOver8 === 1) {\r\n                    infoLines.push(`└ 1명: 250,000원`);\r\n                } else if (childrenOver8 === 2) {\r\n                    infoLines.push(`└ 2명: 550,000원`);\r\n                } else if (childrenOver8 >= 3) {\r\n                    const thirdPlus = childrenOver8 - 2;\r\n                    infoLines.push(`└ 2명: 550,000원`);\r\n                    infoLines.push(`└ 추가 ${thirdPlus}명: ${(thirdPlus * 400000).toLocaleString(\"ko-KR\")}원`);\r\n                }\r\n                infoLines.push(`= ${childCredit.toLocaleString(\"ko-KR\")}원`);\r\n            } else {\r\n                infoLines.push(`└ 0원`);\r\n            }\r\n\r\n            // 출생·입양 공제 계산식\r\n            if (birthAdoption !== \"none\") {\r\n                infoLines.push(``);\r\n                infoLines.push(`출생·입양 공제 (${birthAdoptionName})`);\r\n                infoLines.push(`└ ${birthAdoptionCredit.toLocaleString(\"ko-KR\")}원`);\r\n            }\r\n\r\n            // 합계\r\n            infoLines.push(`──────────────`);\r\n            infoLines.push(`합계: ${totalCredit.toLocaleString(\"ko-KR\")}원`);\r\n\r\n            return {\r\n                id: \"8\",\r\n                category: \"자녀\",\r\n                type: \"세액공제\" as const,\r\n                amount: totalCredit,\r\n                limit: 0, // 한도 없음\r\n                status: childrenOver8 > 0 ? \"optimal\" as const : \"critical\" as const,\r\n                thresholdInfo: infoLines.join(\"\\n\"),\r\n                maxBenefit: 0, // 한도 없음\r\n                childLimits: {\r\n                    first: 250000,\r\n                    second: 550000,\r\n                    thirdPlus: 400000,\r\n                    birthFirst: 300000,\r\n                    birthSecond: 500000,\r\n                    birthThirdPlus: 700000,\r\n                },\r\n            };\r\n        })(),\r\n    ];\r\n\r\n\r\n    return items;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;;;;;AAID,MAAM,cAAc;AACpB,MAAM,2BAA2B,qBAAqB,wDAAwD;AAqJvG,SAAS,YAAY,IAAa;IACrC,IAAI;QACA,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACrD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;IAC9C;AACJ;AAKO,SAAS;IACZ,IAAI;QACA,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ;YACR,OAAO,KAAK,KAAK,CAAC;QACtB;QACA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACX;AACJ;AAKO,SAAS;IACZ,IAAI;QACA,aAAa,UAAU,CAAC;IAC5B,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,6BAA6B;IAC/C;AACJ;AAKO,SAAS;IACZ,IAAI;QACA,OAAO,aAAa,OAAO,CAAC,iBAAiB;IACjD,EAAE,UAAM;QACJ,OAAO;IACX;AACJ;AAOO,SAAS,cAAc,IAAY,EAAE,IAAe;IACvD,IAAI;QACA,MAAM,MAAM,AAAC,GAA6B,OAA3B,0BAAgC,OAAL;QAC1C,QAAQ,GAAG,CAAC,0CAA0C;QACtD,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;QACzC,QAAQ,GAAG,CAAC,+CAA+C;IAC/D,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sCAAsC;IACxD;AACJ;AAKO,SAAS,cAAc,IAAY;IACtC,IAAI;QACA,MAAM,MAAM,AAAC,GAA6B,OAA3B,0BAAgC,OAAL;QAC1C,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ;YACR,OAAO,KAAK,KAAK,CAAC;QACtB;QACA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;IACX;AACJ;AAKO,SAAS,aAAa,IAAY;IACrC,IAAI;QACA,MAAM,MAAM,AAAC,GAA6B,OAA3B,0BAAgC,OAAL;QAC1C,OAAO,aAAa,OAAO,CAAC,SAAS;IACzC,EAAE,UAAM;QACJ,OAAO;IACX;AACJ;AAKO,SAAS,0BAA0B,SAAoB;QAyFtC,mBAcf,oBACA,oBACA,oBACA,oBACA,oBACA;IA3GL,wFAAwF;IACxF,MAAM,qBAAqB,CAAC,UAAU,MAAM,CAAC,cAAc,IAAI,CAAC,IAAI,SAAS,IAAI,mBAAmB;IACpG,MAAM,kBAAkB,CAAC,UAAU,MAAM,CAAC,aAAa,IAAI,CAAC,IAAI;IAChE,MAAM,SAAS,CAAC,UAAU,MAAM,CAAC,WAAW,IAAI,CAAC,IAC7C,CAAC,UAAU,MAAM,CAAC,KAAK,IAAI,CAAC,IAC5B,CAAC,UAAU,MAAM,CAAC,YAAY,IAAI,CAAC,IACnC;IACJ,MAAM,WAAW,UAAU,QAAQ;IACnC,MAAM,aAAa,UAAU,UAAU;IAEvC,+CAA+C;IAC/C,MAAM,wBAAwB,CAAC;QAC3B,IAAI,CAAC,UAAU,aAAa,EAAE,OAAO;QACrC,OAAO,UAAU,aAAa,CACzB,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,OACtC,MAAM,CAAC,CAAC,KAAK;YACV,MAAM,SAAS,OAAO,KAAK,MAAM,KAAK,WAChC,SAAS,KAAK,MAAM,CAAC,OAAO,CAAC,WAAW,QAAQ,IAChD,KAAK,MAAM,IAAI;YACrB,OAAO,MAAM;QACjB,GAAG;IACX;IAEA,iBAAiB;IACjB,MAAM,oBAAoB,SAAS,UAAU,GAAG,SAAS,SAAS,GAAG,SAAS,IAAI,GAC9E,SAAS,eAAe,GAAG,SAAS,iBAAiB,GAAG,SAAS,OAAO;IAC5E,MAAM,cAAc,SAAS,MAAM,SAAS;IAE5C,iCAAiC;IACjC,IAAI,gBAAgB;IACpB,IAAI,oBAAoB,aAAa;QACjC,IAAI,YAAY;QAEhB,wDAAwD;QACxD,gBAAgB;QAChB,MAAM,aAAa,KAAK,GAAG,CAAC,SAAS,UAAU,EAAE;QACjD,aAAa;QACb,MAAM,eAAe,SAAS,UAAU,GAAG;QAC3C,iBAAiB,eAAe;QAEhC,gBAAgB;QAChB,MAAM,YAAY,KAAK,GAAG,CAAC,SAAS,SAAS,EAAE;QAC/C,aAAa;QACb,MAAM,cAAc,SAAS,SAAS,GAAG;QACzC,iBAAiB,cAAc;QAE/B,iBAAiB;QACjB,MAAM,WAAW,KAAK,GAAG,CAAC,SAAS,IAAI,EAAE;QACzC,aAAa;QACb,MAAM,aAAa,SAAS,IAAI,GAAG;QACnC,iBAAiB,aAAa;QAE9B,gBAAgB;QAChB,MAAM,gBAAgB,KAAK,GAAG,CAAC,SAAS,eAAe,EAAE;QACzD,aAAa;QACb,MAAM,kBAAkB,SAAS,eAAe,GAAG;QACnD,iBAAiB,kBAAkB;QAEnC,gBAAgB;QAChB,MAAM,aAAa,KAAK,GAAG,CAAC,SAAS,iBAAiB,EAAE;QACxD,aAAa;QACb,MAAM,eAAe,SAAS,iBAAiB,GAAG;QAClD,iBAAiB,eAAe;QAEhC,eAAe;QACf,MAAM,cAAc,KAAK,GAAG,CAAC,SAAS,OAAO,EAAE;QAC/C,aAAa;QACb,MAAM,gBAAgB,SAAS,OAAO,GAAG;QACzC,iBAAiB,gBAAgB;IACrC;IAEA,4BAA4B;IAC5B,MAAM,eAAe,cAAc,IAAI,oBAAoB,cAAc;IACzE,MAAM,gBAAgB;QAClB,IAAI,gBAAgB,KAAK,OAAO,WAAW,aAAa;QACxD,IAAI,gBAAgB,KAAK,OAAO,QAAW,QAAQ;QACnD,IAAI,gBAAgB,KAAK,OAAO,WAAW,QAAQ;QACnD,OAAO,YAAqC,UAAU;IAC1D;IAEA,MAAM,YAAY,CAAC;QACf,IAAI,SAAS,MAAM,OAAO;QAC1B,IAAI,SAAS,KAAK,OAAO;QACzB,IAAI,SAAS,KAAK,OAAO;QACzB,OAAO;IACX;IAEA,mCAAmC;IACnC,MAAM,cAAc,EAAA,oBAAA,UAAU,MAAM,cAAhB,wCAAA,kBAAkB,QAAQ,KAAI;IAClD,MAAM,YAAY,cAAc,UAAU;IAE1C,QAAQ;IACR,MAAM,qBAAqB,KAAK,GAAG,CAAC,eAAe;IAEnD,UAAU;IACV,MAAM,kBAAkB,UAAU,MAAM,CAAC,eAAe,GACpD,UAAU,MAAM,CAAC,eAAe,GAChC,CAAC,UAAU,MAAM,CAAC,YAAY,IAAI,CAAC,IACnC,CAAC,UAAU,MAAM,CAAC,mBAAmB,IAAI,CAAC;IAE9C,gBAAgB;IAChB,MAAM,aAAa,IACf,CAAC,EAAA,qBAAA,UAAU,MAAM,cAAhB,yCAAA,mBAAkB,MAAM,IAAG,IAAI,CAAC,IACjC,CAAC,EAAA,qBAAA,UAAU,MAAM,cAAhB,yCAAA,mBAAkB,QAAQ,KAAI,CAAC,IAChC,CAAC,EAAA,qBAAA,UAAU,MAAM,cAAhB,yCAAA,mBAAkB,OAAO,KAAI,CAAC,IAC/B,CAAC,EAAA,qBAAA,UAAU,MAAM,cAAhB,yCAAA,mBAAkB,QAAQ,KAAI,CAAC,IAChC,CAAC,EAAA,qBAAA,UAAU,MAAM,cAAhB,yCAAA,mBAAkB,MAAM,KAAI,CAAC,IAC9B,CAAC,EAAA,qBAAA,UAAU,MAAM,cAAhB,yCAAA,mBAAkB,SAAS,KAAI,CAAC;IACrC,MAAM,oBAAoB,aAAa;IAEvC,2BAA2B;IAC3B,IAAI,kBAAkB;IACtB,IAAI,UAAU,SAAS;QACnB,kBAAkB,SAAS;IAC/B,OAAO,IAAI,UAAU,UAAU;QAC3B,kBAAkB,UAAU,CAAC,SAAS,OAAO,IAAI;IACrD,OAAO,IAAI,UAAU,UAAU;QAC3B,kBAAkB,UAAU,CAAC,SAAS,QAAQ,IAAI;IACtD,OAAO,IAAI,UAAU,WAAW;QAC5B,kBAAkB,WAAW,CAAC,SAAS,QAAQ,IAAI;IACvD,OAAO;QACH,kBAAkB,WAAW,CAAC,SAAS,SAAS,IAAI;IACxD;IACA,MAAM,eAAe,KAAK,KAAK,CAAC,SAAS,kBAAkB,SAAS;IAGpE,MAAM,QAA6B;QAC/B;YACI,IAAI;YACJ,UAAU;YACV,MAAM;YACN,QAAQ;YACR,OAAO;YACP,QAAQ;YACR,eAAe,AAAC,QAAkB,OAAX,YAAW;QACtC;QACA,CAAC;YACG,aAAa;YACb,MAAM,kBAAkB,UAAU,MAAM,CAAC,eAAe,IAAI;YAC5D,MAAM,kBAAkB,UAAU,MAAM,CAAC,eAAe,IAAI;YAC5D,MAAM,eAAe,UAAU,MAAM,CAAC,YAAY,IAAI;YACtD,MAAM,sBAAsB,UAAU,MAAM,CAAC,mBAAmB,IAAI;YACpE,MAAM,QAAQ,kBAAkB,kBAAkB,eAAe;YAEjE,MAAM,YAAsB,EAAE;YAC9B,UAAU,IAAI,CAAC,AAAC,SAAgD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;YAChE,UAAU,IAAI,CAAC,AAAC,SAAgD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;YAChE,UAAU,IAAI,CAAC,AAAC,SAA6C,OAArC,aAAa,cAAc,CAAC,UAAS;YAC7D,UAAU,IAAI,CAAC,AAAC,SAAoD,OAA5C,oBAAoB,cAAc,CAAC,UAAS;YACpE,UAAU,IAAI,CAAE;YAChB,UAAU,IAAI,CAAC,AAAC,OAAoC,OAA9B,MAAM,cAAc,CAAC,UAAS;YAEpD,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ;gBACR,eAAe,UAAU,IAAI,CAAC;YAClC;QACJ,CAAC;QACD;YACI,IAAI;YACJ,UAAU;YACV,MAAM;YACN,QAAQ;YACR,OAAO;YACP,QAAQ;YACR,eAAe,AAAC,WAAmE,OAAzD,KAAK,KAAK,CAAC,aAAa,cAAc,CAAC,UAAS,WAA6D,OAApD,kBAAkB,cAAc,CAAC,UAAS,YAA2F,OAAjF,KAAK,GAAG,CAAC,GAAG,oBAAoB,KAAK,KAAK,CAAC,cAAc,cAAc,CAAC,UAAS;QAC5N;QACA,CAAC;gBAOsB;YANnB,4BAA4B;YAC5B,mBAAmB;YACnB,gBAAgB;YAChB,oCAAoC;YAEpC,qBAAqB;YACrB,MAAM,aAAa,CAAA,sCAAA,WAAW,uBAAuB,cAAlC,iDAAA,sCAAsC,sBAAsB;gBAC1D;YAArB,MAAM,eAAe,CAAA,wCAAA,WAAW,yBAAyB,cAApC,mDAAA,wCAAwC,sBAAsB;YACnF,MAAM,oBAAoB,aAAa;YAEvC,qBAAqB;YACrB,MAAM,sBAAsB,KAAK,GAAG,CAAC,mBAAmB;YAExD,cAAc;YACd,MAAM,aAAa,WAAW,WAAW,IAAI;YAE7C,6BAA6B;YAC7B,MAAM,gBAAgB,sBAAsB;YAE5C,oBAAoB;YACpB,MAAM,sBAAsB,KAAK,KAAK,CAAC,gBAAgB;YAEvD,4BAA4B;YAC5B,MAAM,iBAAiB,KAAK,GAAG,CAAC,qBAAqB;YAErD,mBAAmB;YACnB,MAAM,YAAsB,EAAE;YAC9B,UAAU,IAAI,CAAC;YACf,IAAI,aAAa,KAAK,eAAe,GAAG;gBACpC,UAAU,IAAI,CAAE;gBAChB,IAAI,aAAa,GAAG,UAAU,IAAI,CAAC,AAAC,UAA4C,OAAnC,WAAW,cAAc,CAAC,UAAS;gBAChF,IAAI,eAAe,GAAG,UAAU,IAAI,CAAC,AAAC,UAA8C,OAArC,aAAa,cAAc,CAAC,UAAS;gBACpF,IAAI,oBAAoB,SAAS;oBAC7B,UAAU,IAAI,CAAE;gBACpB;YACJ;YACA,IAAI,aAAa,GAAG;gBAChB,UAAU,IAAI,CAAC,AAAC,UAA4C,OAAnC,WAAW,cAAc,CAAC,UAAS;YAChE;YACA,UAAU,IAAI,CAAE;YAChB,UAAU,IAAI,CAAC,AAAC,OAA4C,OAAtC,cAAc,cAAc,CAAC,UAAS;YAC5D,UAAU,IAAI,CAAC,AAAC,KAA0C,OAAtC,cAAc,cAAc,CAAC,UAAS;YAC1D,UAAU,IAAI,CAAC,AAAC,KAAgD,OAA5C,oBAAoB,cAAc,CAAC,UAAS;YAChE,IAAI,sBAAsB,SAAS;gBAC/B,UAAU,IAAI,CAAE;gBAChB,UAAU,IAAI,CAAC,AAAC,KAA2C,OAAvC,eAAe,cAAc,CAAC,UAAS;YAC/D;YAEA,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,sBAAsB;gBACxC,eAAe,UAAU,IAAI,CAAC;YAClC;QACJ,CAAC;QACD,CAAC;YACG,6BAA6B;YAC7B,2BAA2B;YAC3B,8BAA8B;YAC9B,kBAAkB;YAClB,4BAA4B;YAE5B,MAAM,kBAAkB,WAAW,sBAAsB,IAAI;YAC7D,MAAM,mBAAmB,WAAW,uBAAuB,IAAI;YAC/D,MAAM,kBAAkB,WAAW,sBAAsB,IAAI;YAC7D,MAAM,mBAAmB,WAAW,uBAAuB,IAAI;YAE/D,SAAS;YACT,MAAM,iBAAiB,WAAW,eAAe,IAAI;YAErD,YAAY;YACZ,MAAM,iBAAiB,KAAK,GAAG,CAAC,iBAAiB;YACjD,MAAM,kBAAkB,KAAK,GAAG,CAAC,kBAAkB;YACnD,MAAM,iBAAiB,KAAK,GAAG,CAAC,iBAAiB;YACjD,MAAM,kBAAkB,KAAK,GAAG,CAAC,kBAAkB;YAEnD,qCAAqC;YACrC,MAAM,iBAAiB,iBAAiB,kBAAkB,iBAAiB,kBAAkB;YAC7F,MAAM,WAAW,UAAW,YAAY;YAExC,mBAAmB;YACnB,MAAM,YAAsB,EAAE;YAC9B,UAAU,IAAI,CAAC;YACf,IAAI,kBAAkB,GAAG;gBACrB,UAAU,IAAI,CAAC,AAAC,gBAAuD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;gBACvE,IAAI,kBAAkB,UAAU,UAAU,IAAI,CAAE;YACpD;YACA,IAAI,mBAAmB,GAAG;gBACtB,UAAU,IAAI,CAAC,AAAC,iBAAyD,OAAzC,iBAAiB,cAAc,CAAC,UAAS;gBACzE,IAAI,mBAAmB,UAAU,UAAU,IAAI,CAAE;YACrD;YACA,IAAI,kBAAkB,GAAG;gBACrB,UAAU,IAAI,CAAC,AAAC,YAAmD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;gBACnE,IAAI,kBAAkB,SAAS,UAAU,IAAI,CAAE;YACnD;YACA,IAAI,mBAAmB,GAAG;gBACtB,UAAU,IAAI,CAAC,AAAC,iBAAyD,OAAzC,iBAAiB,cAAc,CAAC,UAAS;gBACzE,IAAI,mBAAmB,SAAS,UAAU,IAAI,CAAE;YACpD;YACA,IAAI,iBAAiB,GAAG;gBACpB,UAAU,IAAI,CAAC,AAAC,OAA6C,OAAvC,eAAe,cAAc,CAAC,UAAS;YACjE;YACA,IAAI,iBAAiB,GAAG;gBACpB,UAAU,IAAI,CAAE;gBAChB,UAAU,IAAI,CAAC,AAAC,KAA2C,OAAvC,eAAe,cAAc,CAAC,UAAS;YAC/D,OAAO;gBACH,UAAU,IAAI,CAAE;YACpB;YAEA,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,iBAAiB;gBACnC,eAAe,UAAU,IAAI,CAAC;YAClC;QACJ,CAAC;QACD,CAAC;YACG,0BAA0B;YAC1B,MAAM,aAAa,WAAW,WAAW,IAAI;YAC7C,MAAM,WAAW,UAAU,WAAW,OAAO;YAC7C,MAAM,kBAAkB,UAAU,WAAW,QAAQ;YACrD,MAAM,cAAc,KAAK,GAAG,CAAC,YAAY;YACzC,MAAM,aAAa,KAAK,KAAK,CAAC,cAAc;YAE5C,qCAAqC;YACrC,MAAM,YAAsB,EAAE;YAC9B,UAAU,IAAI,CAAC,AAAC,QAAsC,OAA/B,OAAO,cAAc,CAAC,UAAS;YACtD,UAAU,IAAI,CAAC,AAAC,KAAqD,OAAjD,UAAU,WAAW,eAAe;YACxD,UAAU,IAAI,CAAE;YAChB,UAAU,IAAI,CAAC,AAAC,OAAyC,OAAnC,WAAW,cAAc,CAAC,UAAS;YACzD,IAAI,aAAa,UAAU;gBACvB,UAAU,IAAI,CAAC,AAAC,OAAyC,OAAnC,AAAC,UAAU,cAAc,CAAC,UAAS;YAC7D;YACA,UAAU,IAAI,CAAC,AAAC,KAA6C,OAAzC,YAAY,cAAc,CAAC,UAAS,OAAqB,OAAhB;YAC7D,UAAU,IAAI,CAAC,AAAC,KAAuC,OAAnC,WAAW,cAAc,CAAC,UAAS;YAEvD,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,aAAa;gBAC/B,eAAe,UAAU,IAAI,CAAC;gBAC9B,YAAY,WAAW;gBACvB,eAAe;oBACX,QAAQ;oBACR,OAAO;oBACP,MAAM;oBACN,aAAa;oBACb,aAAa,UAAU;gBAC3B;YACJ;QACJ,CAAC;QACD,CAAC;YACG,kBAAkB;YAClB,MAAM,cAAc,WAAW,kBAAkB,IAAI,GAAI,aAAa;YACtE,MAAM,YAAY,WAAW,gBAAgB,IAAI,GAAQ,eAAe;YACxE,MAAM,cAAc,WAAW,WAAW,IAAI,GAAW,oBAAoB;YAC7E,MAAM,gBAAgB,WAAW,aAAa,IAAI,GAAO,cAAc;YAEvE,oBAAoB;YACpB,MAAM,eAAe,cAAc,YAAY,cAAc,gBAAgB,CAAC,WAAW,OAAO,IAAI,CAAC;YAErG,QAAQ;YACR,MAAM,YAAY,KAAK,KAAK,CAAC,SAAS;YACtC,MAAM,UAAU,eAAe;YAE/B,mCAAmC;YACnC,2BAA2B;YAC3B,MAAM,eAAe;YACrB,MAAM,gBAAgB,KAAK,GAAG,CAAC,eAAe;YAE9C,MAAM,oBAAoB,KAAK,KAAK,CAAC,cAAc;YACnD,MAAM,kBAAkB,KAAK,KAAK,CAAC,YAAY;YAC/C,MAAM,aAAa,KAAK,KAAK,CAAC,cAAc;YAC5C,MAAM,eAAe,KAAK,KAAK,CAAC,gBAAgB;YAEhD,2BAA2B;YAC3B,MAAM,cAAc,UAChB,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,cAAc,KAAK,GAAG,CAAC,WAAW,gBAAgB,QACzE,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,aAAa,QACpC,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,eAAe,QACtC,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,eAAe,gBAAgB,QACjD;YAEN,oCAAoC;YACpC,MAAM,YAAsB,EAAE;YAE9B,6BAA6B;YAC7B,UAAU,IAAI,CAAC,AAAC,UAA2C,OAAlC,UAAU,cAAc,CAAC,UAAS;YAC3D,UAAU,IAAI,CAAC,AAAC,OAA2C,OAArC,aAAa,cAAc,CAAC,UAAS;YAC3D,UAAU,IAAI,CAAC,AAAC,QAAqE,OAA9D,KAAK,GAAG,CAAC,GAAG,eAAe,WAAW,cAAc,CAAC,UAAS;YACrF,UAAU,IAAI,CAAE;YAEhB,QAAQ;YACR,UAAU,IAAI,CAAC,AAAC,UAA6C,OAApC,YAAY,cAAc,CAAC,UAAS;YAC7D,UAAU,IAAI,CAAC,AAAC,KAAoD,OAAhD,YAAY,cAAc,CAAC,UAAS,cAAsD,OAA1C,kBAAkB,cAAc,CAAC,UAAS;YAE9G,UAAU;YACV,UAAU,IAAI,CAAC,AAAC,YAA6C,OAAlC,UAAU,cAAc,CAAC,UAAS;YAC7D,UAAU,IAAI,CAAC,AAAC,KAAkD,OAA9C,UAAU,cAAc,CAAC,UAAS,cAAoD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;YAE1G,eAAe;YACf,UAAU,IAAI,CAAC,AAAC,iBAAoD,OAApC,YAAY,cAAc,CAAC,UAAS;YACpE,UAAU,IAAI,CAAC,AAAC,KAAoD,OAAhD,YAAY,cAAc,CAAC,UAAS,cAA+C,OAAnC,WAAW,cAAc,CAAC,UAAS;YAEvG,oBAAoB;YACpB,IAAI,gBAAgB,cAAc;gBAC9B,UAAU,IAAI,CAAC,AAAC,cAAmD,OAAtC,cAAc,cAAc,CAAC,UAAS;gBACnE,UAAU,IAAI,CAAC,AAAC,SAA6C,OAArC,aAAa,cAAc,CAAC,UAAS;YACjE,OAAO;gBACH,UAAU,IAAI,CAAC,AAAC,cAAmD,OAAtC,cAAc,cAAc,CAAC,UAAS;YACvE;YACA,UAAU,IAAI,CAAC,AAAC,KAAsD,OAAlD,cAAc,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;YAE3G,KAAK;YACL,MAAM,iBAAiB,oBAAoB,kBAAkB,aAAa;YAC1E,UAAU,IAAI,CAAE;YAChB,UAAU,IAAI,CAAC,AAAC,OAA6C,OAAvC,eAAe,cAAc,CAAC,UAAS;YAE7D,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,eAAe;gBACjC,eAAe,UAAU,IAAI,CAAC;gBAC9B,YAAY,eAAe;YAC/B;QACJ,CAAC;QACD,CAAC;YACG,kBAAkB;YAClB,MAAM,UAAU,WAAW,aAAa,IAAI,GAAQ,YAAY;YAEhE,yBAAyB;YACzB,MAAM,OAAO,WAAW,mBAAmB,IAAI;YAC/C,MAAM,OAAO,WAAW,mBAAmB,IAAI;YAC/C,MAAM,OAAO,WAAW,mBAAmB,IAAI;YAC/C,MAAM,QAAQ,WAAW,cAAc,IAAI;YAC3C,MAAM,QAAQ,WAAW,cAAc,IAAI;YAC3C,MAAM,QAAQ,WAAW,cAAc,IAAI;YAE3C,4BAA4B;YAC5B,MAAM,QAAQ,WAAW,cAAc,IAAI;YAC3C,MAAM,QAAQ,WAAW,cAAc,IAAI;YAC3C,MAAM,QAAQ,WAAW,cAAc,IAAI;YAE3C,QAAQ;YACR,MAAM,cAAc,SAAc,qBAAqB;YACvD,MAAM,aAAa,SAAe,gBAAgB;YAElD,MAAM,iBAAiB,SAAS,YAAY;YAC5C,MAAM,cAAc,KAAK,GAAG,CAAC,MAAM;YACnC,MAAM,cAAc,KAAK,GAAG,CAAC,MAAM;YACnC,MAAM,cAAc,KAAK,GAAG,CAAC,MAAM;YACnC,MAAM,eAAe,KAAK,GAAG,CAAC,OAAO;YACrC,MAAM,eAAe,KAAK,GAAG,CAAC,OAAO;YACrC,MAAM,eAAe,KAAK,GAAG,CAAC,OAAO;YACrC,MAAM,eAAe,KAAK,GAAG,CAAC,OAAO;YACrC,MAAM,eAAe,KAAK,GAAG,CAAC,OAAO;YACrC,MAAM,eAAe,KAAK,GAAG,CAAC,OAAO;YAErC,iBAAiB;YACjB,MAAM,gBAAgB,KAAK,KAAK,CAAC,iBAAiB;YAClD,MAAM,aAAa,KAAK,KAAK,CAAC,cAAc;YAC5C,MAAM,aAAa,KAAK,KAAK,CAAC,cAAc;YAC5C,MAAM,aAAa,KAAK,KAAK,CAAC,cAAc;YAC5C,MAAM,cAAc,KAAK,KAAK,CAAC,eAAe;YAC9C,MAAM,cAAc,KAAK,KAAK,CAAC,eAAe;YAC9C,MAAM,cAAc,KAAK,KAAK,CAAC,eAAe;YAC9C,MAAM,cAAc,KAAK,KAAK,CAAC,eAAe;YAC9C,MAAM,cAAc,KAAK,KAAK,CAAC,eAAe;YAC9C,MAAM,cAAc,KAAK,KAAK,CAAC,eAAe;YAE9C,MAAM,cAAc,gBAAgB,aAAa,aAAa,aAC1D,cAAc,cAAc,cAAc,cAAc,cAAc;YAE1E,2CAA2C;YAC3C,MAAM,YAAsB,EAAE;YAE9B,oBAAoB;YACpB,MAAM,aAAa,CAAC,OAAe,QAAgB,OAAe,SAAiB;gBAC/E,IAAI,SAAS,GAAG;oBACZ,IAAI,SAAS,OAAO;wBAChB,UAAU,IAAI,CAAC,AAAC,GAAY,OAAV,OAAM,MAAmC,OAA/B,OAAO,cAAc,CAAC,UAAS;wBAC3D,UAAU,IAAI,CAAC,AAAC,SAAwC,OAAhC,QAAQ,cAAc,CAAC,UAAS;oBAC5D,OAAO;wBACH,UAAU,IAAI,CAAC,AAAC,GAAY,OAAV,OAAM,MAAmC,OAA/B,OAAO,cAAc,CAAC,UAAS;oBAC/D;oBACA,UAAU,IAAI,CAAC,AAAC,KAAgD,OAA5C,QAAQ,cAAc,CAAC,UAAS,cAA2C,OAA/B,OAAO,cAAc,CAAC,UAAS;gBACnG;YACJ;YAEA,IAAI,UAAU,GAAG;gBACb,UAAU,IAAI,CAAC,AAAC,OAAsC,OAAhC,QAAQ,cAAc,CAAC,UAAS;gBACtD,UAAU,IAAI,CAAC,AAAC,KAAgD,OAA5C,QAAQ,cAAc,CAAC,UAAS,cAAkD,OAAtC,cAAc,cAAc,CAAC,UAAS;YAC1G;YAEA,WAAW,WAAW,MAAM,aAAa,aAAa;YACtD,WAAW,WAAW,MAAM,aAAa,aAAa;YACtD,WAAW,WAAW,MAAM,aAAa,aAAa;YACtD,WAAW,WAAW,OAAO,aAAa,cAAc;YACxD,WAAW,WAAW,OAAO,aAAa,cAAc;YACxD,WAAW,WAAW,OAAO,aAAa,cAAc;YACxD,WAAW,UAAU,OAAO,YAAY,cAAc;YACtD,WAAW,UAAU,OAAO,YAAY,cAAc;YACtD,WAAW,UAAU,OAAO,YAAY,cAAc;YAEtD,IAAI,UAAU,MAAM,GAAG,GAAG;gBACtB,UAAU,IAAI,CAAE;gBAChB,UAAU,IAAI,CAAC,AAAC,OAA0C,OAApC,YAAY,cAAc,CAAC,UAAS;YAC9D;YAEA,MAAM,iBAAiB,UAAU,OAAO,OAAO,OAAO,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ;YAE9F,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,iBAAiB,IAAI,KAAK,GAAG,CAAC,iBAAiB,SAAS,KAAK;gBAC/E,eAAe,UAAU,MAAM,GAAG,IAAI,UAAU,IAAI,CAAC,QAAQ;gBAC7D,YAAY,UAAU;YAC1B;QACJ,CAAC;QACD,CAAC;YACG,gCAAgC;YAChC,MAAM,eAAe,WAAW,iBAAiB,IAAI;YACrD,MAAM,iBAAiB,cAAc,mBAAmB;YACxD,MAAM,YAAY,KAAK,GAAG,CAAC,cAAc,iBAAiB,QAAQ;YAClE,MAAM,YAAY,eAAe;YACjC,IAAI,kBAAkB;YACtB,IAAI,mBAAmB;YACvB,IAAI,YAAY,GAAG;gBACf,IAAI,aAAa,QAAQ;oBACrB,kBAAkB,KAAK,KAAK,CAAC,YAAY,MAAM;oBAC/C,mBAAmB,AAAC,KAAsD,OAAlD,UAAU,cAAc,CAAC,UAAS,kBAAwD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;gBACtH,OAAO,IAAI,aAAa,UAAU;oBAC9B,MAAM,aAAa,KAAK,KAAK,CAAC,SAAS,MAAM;oBAC7C,MAAM,eAAe,KAAK,KAAK,CAAC,CAAC,YAAY,MAAM,IAAI;oBACvD,kBAAkB,aAAa;oBAC/B,mBAAmB,AAAC,mCAAqF,OAAnD,WAAW,cAAc,CAAC,UAAS,kBAAyE,OAAzD,CAAC,YAAY,MAAM,EAAE,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;gBAC3M,OAAO;oBACH,MAAM,aAAa,KAAK,KAAK,CAAC,SAAS,MAAM;oBAC7C,MAAM,YAAY,KAAK,KAAK,CAAC,WAAW;oBACxC,MAAM,aAAa,KAAK,KAAK,CAAC,CAAC,YAAY,QAAQ,IAAI;oBACvD,kBAAkB,aAAa,YAAY;oBAC3C,mBAAmB,AAAC,mCAA2G,OAAzE,WAAW,cAAc,CAAC,UAAS,wCAAwF,OAAlD,UAAU,cAAc,CAAC,UAAS,kBAA2E,OAA3D,CAAC,YAAY,QAAQ,EAAE,cAAc,CAAC,UAAS,cAA+C,OAAnC,WAAW,cAAc,CAAC,UAAS;gBACnR;YACJ;YAGA,mBAAmB;YACnB,MAAM,WAAW,WAAW,gBAAgB,IAAI;YAChD,IAAI,iBAAiB;YACrB,IAAI,kBAAkB;YACtB,IAAI,WAAW,GAAG;gBACd,IAAI,YAAY,QAAQ;oBACpB,iBAAiB,KAAK,KAAK,CAAC,WAAW,MAAM;oBAC7C,kBAAkB,AAAC,KAAqD,OAAjD,SAAS,cAAc,CAAC,UAAS,kBAAuD,OAAvC,eAAe,cAAc,CAAC,UAAS;gBACnH,OAAO;oBACH,MAAM,aAAa,KAAK,KAAK,CAAC,SAAS,MAAM;oBAC7C,MAAM,eAAe,KAAK,KAAK,CAAC,CAAC,WAAW,MAAM,IAAI;oBACtD,iBAAiB,aAAa;oBAC9B,kBAAkB,AAAC,mCAAqF,OAAnD,WAAW,cAAc,CAAC,UAAS,kBAAwE,OAAxD,CAAC,WAAW,MAAM,EAAE,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;gBACzM;YACJ;YAEA,uBAAuB;YACvB,MAAM,WAAW,WAAW,gBAAgB,IAAI;YAChD,IAAI,iBAAiB;YACrB,IAAI,kBAAkB;YACtB,IAAI,WAAW,GAAG;gBACd,IAAI,YAAY,QAAQ;oBACpB,iBAAiB,KAAK,KAAK,CAAC,WAAW,MAAM;oBAC7C,kBAAkB,AAAC,KAAqD,OAAjD,SAAS,cAAc,CAAC,UAAS,kBAAuD,OAAvC,eAAe,cAAc,CAAC,UAAS;gBACnH,OAAO;oBACH,MAAM,aAAa,KAAK,KAAK,CAAC,SAAS,MAAM;oBAC7C,MAAM,eAAe,KAAK,KAAK,CAAC,CAAC,WAAW,MAAM,IAAI;oBACtD,iBAAiB,aAAa;oBAC9B,kBAAkB,AAAC,mCAAqF,OAAnD,WAAW,cAAc,CAAC,UAAS,kBAAwE,OAAxD,CAAC,WAAW,MAAM,EAAE,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;gBACzM;YACJ;YAEA,oBAAoB;YACpB,MAAM,UAAU,WAAW,eAAe,IAAI;YAC9C,IAAI,gBAAgB;YACpB,IAAI,iBAAiB;YACrB,IAAI,UAAU,GAAG;gBACb,IAAI,WAAW,UAAU;oBACrB,gBAAgB,KAAK,KAAK,CAAC,UAAU;oBACrC,iBAAiB,AAAC,KAAgD,OAA5C,QAAQ,cAAc,CAAC,UAAS,cAAkD,OAAtC,cAAc,cAAc,CAAC,UAAS;gBAC5G,OAAO;oBACH,MAAM,aAAa,KAAK,KAAK,CAAC,WAAW;oBACzC,MAAM,eAAe,KAAK,KAAK,CAAC,CAAC,UAAU,QAAQ,IAAI;oBACvD,gBAAgB,aAAa;oBAC7B,iBAAiB,AAAC,kCAAoF,OAAnD,WAAW,cAAc,CAAC,UAAS,kBAAyE,OAAzD,CAAC,UAAU,QAAQ,EAAE,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;gBACxM;YACJ;YAEA,qBAAqB;YACrB,MAAM,QAAQ,WAAW,aAAa,IAAI;YAC1C,IAAI,cAAc;YAClB,IAAI,eAAe;YACnB,IAAI,QAAQ,GAAG;gBACX,IAAI,SAAS,UAAU;oBACnB,cAAc,KAAK,KAAK,CAAC,QAAQ;oBACjC,eAAe,AAAC,KAA8C,OAA1C,MAAM,cAAc,CAAC,UAAS,cAAgD,OAApC,YAAY,cAAc,CAAC,UAAS;gBACtG,OAAO;oBACH,MAAM,aAAa,KAAK,KAAK,CAAC,WAAW;oBACzC,MAAM,eAAe,KAAK,KAAK,CAAC,CAAC,QAAQ,QAAQ,IAAI;oBACrD,cAAc,aAAa;oBAC3B,eAAe,AAAC,kCAAoF,OAAnD,WAAW,cAAc,CAAC,UAAS,kBAAuE,OAAvD,CAAC,QAAQ,QAAQ,EAAE,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;gBACpM;YACJ;YAEA,wBAAwB;YACxB,MAAM,YAAY,WAAW,iBAAiB,IAAI;YAClD,IAAI,kBAAkB;YACtB,IAAI,mBAAmB;YACvB,IAAI,YAAY,GAAG;gBACf,IAAI,aAAa,UAAU;oBACvB,kBAAkB,KAAK,KAAK,CAAC,YAAY;oBACzC,mBAAmB,AAAC,KAAkD,OAA9C,UAAU,cAAc,CAAC,UAAS,cAAoD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;gBAClH,OAAO;oBACH,MAAM,aAAa,KAAK,KAAK,CAAC,WAAW;oBACzC,MAAM,eAAe,KAAK,KAAK,CAAC,CAAC,YAAY,QAAQ,IAAI;oBACzD,kBAAkB,aAAa;oBAC/B,mBAAmB,AAAC,kCAAoF,OAAnD,WAAW,cAAc,CAAC,UAAS,kBAA2E,OAA3D,CAAC,YAAY,QAAQ,EAAE,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;gBAC5M;YACJ;YAEA,0BAA0B;YAC1B,MAAM,eAAe,WAAW,oBAAoB,IAAI;YACxD,IAAI,qBAAqB;YACzB,IAAI,sBAAsB;YAC1B,IAAI,eAAe,GAAG;gBAClB,IAAI,gBAAgB,UAAU;oBAC1B,qBAAqB,KAAK,KAAK,CAAC,eAAe;oBAC/C,sBAAsB,AAAC,KAAqD,OAAjD,aAAa,cAAc,CAAC,UAAS,cAAuD,OAA3C,mBAAmB,cAAc,CAAC,UAAS;gBAC3H,OAAO;oBACH,MAAM,aAAa,KAAK,KAAK,CAAC,WAAW;oBACzC,MAAM,eAAe,KAAK,KAAK,CAAC,CAAC,eAAe,QAAQ,IAAI;oBAC5D,qBAAqB,aAAa;oBAClC,sBAAsB,AAAC,kCAAoF,OAAnD,WAAW,cAAc,CAAC,UAAS,kBAA8E,OAA9D,CAAC,eAAe,QAAQ,EAAE,cAAc,CAAC,UAAS,cAAiD,OAArC,aAAa,cAAc,CAAC,UAAS;gBAClN;YACJ;YAEA,MAAM,cAAc,kBAAkB,iBAAiB,iBAAiB,gBAAgB,cAAc,kBAAkB;YAExH,2CAA2C;YAC3C,MAAM,YAAsB,EAAE;YAC9B,IAAI,YAAY,GAAG;gBACf,IAAI,WAAW;oBACX,UAAU,IAAI,CAAC,AAAC,SAA6C,OAArC,aAAa,cAAc,CAAC,UAAS;oBAC7D,UAAU,IAAI,CAAC,AAAC,SAA0C,OAAlC,UAAU,cAAc,CAAC,UAAS;gBAC9D,OAAO;oBACH,UAAU,IAAI,CAAC,AAAC,SAA0C,OAAlC,UAAU,cAAc,CAAC,UAAS;gBAC9D;gBACA,UAAU,IAAI,CAAC;YACnB;YACA,IAAI,WAAW,GAAG;gBACd,UAAU,IAAI,CAAC,AAAC,SAAyC,OAAjC,SAAS,cAAc,CAAC,UAAS;gBACzD,UAAU,IAAI,CAAC;YACnB;YACA,IAAI,WAAW,GAAG;gBACd,UAAU,IAAI,CAAC,AAAC,SAAyC,OAAjC,SAAS,cAAc,CAAC,UAAS;gBACzD,UAAU,IAAI,CAAC;YACnB;YACA,IAAI,UAAU,GAAG;gBACb,UAAU,IAAI,CAAC,AAAC,UAAyC,OAAhC,QAAQ,cAAc,CAAC,UAAS;gBACzD,UAAU,IAAI,CAAC;YACnB;YACA,IAAI,QAAQ,GAAG;gBACX,UAAU,IAAI,CAAC,AAAC,SAAsC,OAA9B,MAAM,cAAc,CAAC,UAAS;gBACtD,UAAU,IAAI,CAAC;YACnB;YACA,IAAI,YAAY,GAAG;gBACf,UAAU,IAAI,CAAC,AAAC,SAA0C,OAAlC,UAAU,cAAc,CAAC,UAAS;gBAC1D,UAAU,IAAI,CAAC;YACnB;YACA,IAAI,eAAe,GAAG;gBAClB,UAAU,IAAI,CAAC,AAAC,SAA6C,OAArC,aAAa,cAAc,CAAC,UAAS;gBAC7D,UAAU,IAAI,CAAC;YACnB;YACA,IAAI,UAAU,MAAM,GAAG,GAAG;gBACtB,UAAU,IAAI,CAAE;gBAChB,UAAU,IAAI,CAAC,AAAC,OAA0C,OAApC,YAAY,cAAc,CAAC,UAAS;YAC9D;YAEA,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,KAAK,GAAG,CAAC,GAAG,CAAC,YAAY,WAAW,WAAW,UAAU,QAAQ,YAAY,YAAY,IAAI;gBAC/G,eAAe,UAAU,MAAM,GAAG,IAAI,UAAU,IAAI,CAAC,QAAQ;gBAC7D,YAAY,eAAe;gBAC3B,cAAc;gBACd,gBAAgB;oBACZ,eAAe;oBACf,kBAAkB;oBAClB,iBAAiB;oBACjB,eAAe,KAAK,KAAK,CAAC,eAAe;oBACzC,kBAAkB,KAAK,KAAK,CAAC,eAAe;oBAC5C,qBAAqB,KAAK,KAAK,CAAC,eAAe;gBACnD;YACJ;QACJ,CAAC;QACD,CAAC;YACG,uBAAuB;YACvB,4CAA4C;YAC5C,MAAM,gBAAgB,CAAA,uBAAA,iCAAA,WAAY,cAAc,MAAI,uBAAA,iCAAA,WAAY,OAAO,KAAI;YAC3E,MAAM,YAAY,CAAA,uBAAA,iCAAA,WAAY,UAAU,KAAI;YAE5C,QAAQ;YACR,MAAM,gBAAgB,SAAS,cAAc;YAC7C,MAAM,cAAc,SAAW,qBAAqB;YAEpD,MAAM,iBAAiB,KAAK,GAAG,CAAC,eAAe;YAC/C,MAAM,iBAAiB,KAAK,GAAG,CAAC,GAAG,cAAc;YACjD,MAAM,aAAa,KAAK,GAAG,CAAC,WAAW;YAEvC,iBAAiB;YACjB,MAAM,gBAAgB,KAAK,KAAK,CAAC,iBAAiB;YAClD,MAAM,YAAY,KAAK,KAAK,CAAC,aAAa;YAC1C,MAAM,cAAc,gBAAgB;YAEpC,oDAAoD;YACpD,MAAM,YAAsB,EAAE;YAE9B,mBAAmB;YACnB,IAAI,gBAAgB,eAAe;gBAC/B,UAAU,IAAI,CAAC,AAAC,SAA8C,OAAtC,cAAc,cAAc,CAAC,UAAS;gBAC9D,UAAU,IAAI,CAAC,AAAC,SAA+C,OAAvC,eAAe,cAAc,CAAC,UAAS;YACnE,OAAO;gBACH,UAAU,IAAI,CAAC,AAAC,SAA8C,OAAtC,cAAc,cAAc,CAAC,UAAS;YAClE;YACA,UAAU,IAAI,CAAC,AAAC,KAAuD,OAAnD,eAAe,cAAc,CAAC,UAAS,cAAkD,OAAtC,cAAc,cAAc,CAAC,UAAS;YAE7G,wBAAwB;YACxB,IAAI,YAAY,kBAAkB,iBAAiB,GAAG;gBAClD,UAAU,IAAI,CAAC,AAAC,cAA+C,OAAlC,UAAU,cAAc,CAAC,UAAS;gBAC/D,UAAU,IAAI,CAAC,AAAC,SAA2C,OAAnC,WAAW,cAAc,CAAC,UAAS;YAC/D,OAAO;gBACH,UAAU,IAAI,CAAC,AAAC,cAA+C,OAAlC,UAAU,cAAc,CAAC,UAAS;YACnE;YACA,UAAU,IAAI,CAAC,AAAC,KAAmD,OAA/C,WAAW,cAAc,CAAC,UAAS,cAA8C,OAAlC,UAAU,cAAc,CAAC,UAAS;YAErG,QAAQ;YACR,UAAU,IAAI,CAAE;YAChB,UAAU,IAAI,CAAC,AAAC,OAA0C,OAApC,YAAY,cAAc,CAAC,UAAS;YAE1D,MAAM,cAAc,gBAAgB;YAEpC,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,cAAc;gBAChC,eAAe,UAAU,IAAI,CAAC;gBAC9B,YAAY,cAAc;YAC9B;QACJ,CAAC;QACD,CAAC;YACG,kBAAkB;YAClB,MAAM,kBAAkB,WAAW,SAAS,IAAI;YAChD,MAAM,kBAAkB,SAAS,YAAY;YAC7C,MAAM,gBAAgB,KAAK,GAAG,CAAC,iBAAiB;YAChD,MAAM,YAAY,KAAK,KAAK,CAAC,gBAAgB,OAAO,WAAW;YAE/D,mBAAmB;YACnB,MAAM,YAAsB,EAAE;YAC9B,IAAI,kBAAkB,GAAG;gBACrB,UAAU,IAAI,CAAC,AAAC,QAA+C,OAAxC,gBAAgB,cAAc,CAAC,UAAS;gBAC/D,IAAI,kBAAkB,iBAAiB;oBACnC,UAAU,IAAI,CAAC,AAAC,SAAgD,OAAxC,gBAAgB,cAAc,CAAC,UAAS;gBACpE;gBACA,UAAU,IAAI,CAAC,AAAC,KAAsD,OAAlD,cAAc,cAAc,CAAC,UAAS,cAA8C,OAAlC,UAAU,cAAc,CAAC,UAAS;YAC5G;YAEA,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,UAAU,kBAAkB;gBACpC,eAAe,UAAU,MAAM,GAAG,IAAI,UAAU,IAAI,CAAC,QAAQ;gBAC7D,YAAY,kBAAkB;YAClC;QACJ,CAAC;QACD,CAAC;gBAEyB,mBACA;YAFtB,sBAAsB;YACtB,MAAM,gBAAgB,EAAA,oBAAA,UAAU,MAAM,cAAhB,wCAAA,kBAAkB,aAAa,KAAI;YACzD,MAAM,gBAAgB,EAAA,qBAAA,UAAU,MAAM,cAAhB,yCAAA,mBAAkB,aAAa,KAAI;YAEzD,oBAAoB;YACpB,WAAW;YACX,WAAW;YACX,+BAA+B;YAC/B,IAAI,cAAc;YAClB,IAAI,kBAAkB,GAAG;gBACrB,cAAc,QAAQ,KAAK;YAC/B,OAAO,IAAI,kBAAkB,GAAG;gBAC5B,cAAc,QAAQ,KAAK;YAC/B,OAAO,IAAI,iBAAiB,GAAG;gBAC3B,cAAc,SAAS,CAAC,gBAAgB,CAAC,IAAI,QAAQ,QAAQ;YACjE;YAEA,WAAW;YACX,IAAI,sBAAsB;YAC1B,IAAI,oBAAoB;YACxB,OAAQ;gBACJ,KAAK;oBACD,sBAAsB;oBACtB,oBAAoB;oBACpB;gBACJ,KAAK;oBACD,sBAAsB;oBACtB,oBAAoB;oBACpB;gBACJ,KAAK;oBACD,sBAAsB;oBACtB,oBAAoB;oBACpB;gBACJ,KAAK;oBACD,sBAAsB;oBACtB,oBAAoB;oBACpB;gBACJ,KAAK;oBACD,sBAAsB;oBACtB,oBAAoB;oBACpB;YACR;YAEA,MAAM,cAAc,cAAc;YAElC,4BAA4B;YAC5B,MAAM,YAAsB,EAAE;YAE9B,cAAc;YACd,UAAU,IAAI,CAAC,AAAC,oBAAiC,OAAd,eAAc;YACjD,IAAI,gBAAgB,GAAG;gBACnB,IAAI,kBAAkB,GAAG;oBACrB,UAAU,IAAI,CAAE;gBACpB,OAAO,IAAI,kBAAkB,GAAG;oBAC5B,UAAU,IAAI,CAAE;gBACpB,OAAO,IAAI,iBAAiB,GAAG;oBAC3B,MAAM,YAAY,gBAAgB;oBAClC,UAAU,IAAI,CAAE;oBAChB,UAAU,IAAI,CAAC,AAAC,QAAsB,OAAf,WAAU,OAAkD,OAA7C,CAAC,YAAY,MAAM,EAAE,cAAc,CAAC,UAAS;gBACvF;gBACA,UAAU,IAAI,CAAC,AAAC,KAAwC,OAApC,YAAY,cAAc,CAAC,UAAS;YAC5D,OAAO;gBACH,UAAU,IAAI,CAAE;YACpB;YAEA,eAAe;YACf,IAAI,kBAAkB,QAAQ;gBAC1B,UAAU,IAAI,CAAE;gBAChB,UAAU,IAAI,CAAC,AAAC,aAA8B,OAAlB,mBAAkB;gBAC9C,UAAU,IAAI,CAAC,AAAC,KAAgD,OAA5C,oBAAoB,cAAc,CAAC,UAAS;YACpE;YAEA,KAAK;YACL,UAAU,IAAI,CAAE;YAChB,UAAU,IAAI,CAAC,AAAC,OAA0C,OAApC,YAAY,cAAc,CAAC,UAAS;YAE1D,OAAO;gBACH,IAAI;gBACJ,UAAU;gBACV,MAAM;gBACN,QAAQ;gBACR,OAAO;gBACP,QAAQ,gBAAgB,IAAI,YAAqB;gBACjD,eAAe,UAAU,IAAI,CAAC;gBAC9B,YAAY;gBACZ,aAAa;oBACT,OAAO;oBACP,QAAQ;oBACR,WAAW;oBACX,YAAY;oBACZ,aAAa;oBACb,gBAAgB;gBACpB;YACJ;QACJ,CAAC;KACJ;IAGD,OAAO;AACX","debugId":null}},
    {"offset": {"line": 864, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ys1114/.gemini/antigravity/scratch/ProjectV2/app/admin/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport {\r\n    DollarSign,\r\n    CreditCard,\r\n    FileText,\r\n    RefreshCw,\r\n    Plus,\r\n    X,\r\n    CheckCircle,\r\n    AlertCircle,\r\n    Users,\r\n    Upload,\r\n    Eye,\r\n} from \"lucide-react\";\r\nimport clsx from \"clsx\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { saveAdminData, loadAdminData, AdminData } from \"@/lib/tax-store\";\r\n\r\n// 월별 급여 데이터\r\ninterface MonthlySalaryData {\r\n    totalSalary: string;\r\n    mealAllowance: string;         // 비과세 식대\r\n    nationalPension: string;       // 국민연금\r\n    healthInsurance: string;       // 건강보험\r\n    longTermCare: string;          // 노인장기요양보험\r\n    employmentInsurance: string;   // 고용보험\r\n    bonus: string;                 // 상여금\r\n    childTuition: string;          // 자녀학자금\r\n    prepaidTax: string;            // 기납부세액 (소득세)\r\n    localIncomeTax: string;        // 기납부세액 (지방소득세)\r\n}\r\n\r\ninterface Notification {\r\n    type: \"success\" | \"error\";\r\n    message: string;\r\n}\r\n\r\ninterface TransactionDetail {\r\n    date: string;\r\n    merchant: string;\r\n    amount: number;\r\n}\r\n\r\ninterface SpendingItem {\r\n    id: string;\r\n    name: string;\r\n    amount: string;\r\n    month: number; // 1~12월\r\n    details?: TransactionDetail[]; // 엑셀에서 파싱된 세부 거래 내역\r\n}\r\n\r\nexport default function AdminPage() {\r\n    const [selectedYear, setSelectedYear] = useState(2025);\r\n    const [selectedMonth, setSelectedMonth] = useState(1);\r\n    const [monthlySalary, setMonthlySalary] = useState<{ [month: number]: MonthlySalaryData }>(() => {\r\n        const defaultData: MonthlySalaryData = {\r\n            totalSalary: \"0\",\r\n            mealAllowance: \"0\",\r\n            nationalPension: \"0\",\r\n            healthInsurance: \"0\",\r\n            longTermCare: \"0\",\r\n            employmentInsurance: \"0\",\r\n            bonus: \"0\",\r\n            childTuition: \"0\",\r\n            prepaidTax: \"0\",\r\n            localIncomeTax: \"0\",\r\n        };\r\n        const initial: { [month: number]: MonthlySalaryData } = {};\r\n        for (let m = 1; m <= 12; m++) {\r\n            initial[m] = { ...defaultData };\r\n        }\r\n        return initial;\r\n    });\r\n    const [clickedBtn, setClickedBtn] = useState<string | null>(null);\r\n    const [notification, setNotification] = useState<Notification | null>(null);\r\n    const [showCameraModal, setShowCameraModal] = useState(false);\r\n    const [capturedImages, setCapturedImages] = useState<string[]>([]);\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [showExcelModal, setShowExcelModal] = useState(false);\r\n    const [excelFile, setExcelFile] = useState<File | null>(null);\r\n    const [isExcelDragging, setIsExcelDragging] = useState(false);\r\n    const [excelModalMonth, setExcelModalMonth] = useState(1);\r\n    const [ocrModalMonth, setOcrModalMonth] = useState(1);\r\n\r\n    // OCR 상태\r\n    const [ocrPreviewItems, setOcrPreviewItems] = useState<{ category: string, merchant: string, amount: number }[]>([]);\r\n    const [ocrCardType, setOcrCardType] = useState<\"credit\" | \"debit\" | \"cash\">(\"credit\");\r\n    const [isOcrProcessing, setIsOcrProcessing] = useState(false);\r\n    const [ocrDuplicateItems, setOcrDuplicateItems] = useState<{ merchant: string, amount: number }[]>([]);\r\n\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const ocrImageInputRef = useRef<HTMLInputElement>(null);\r\n    const cardExcelInputRef = useRef<HTMLInputElement>(null);\r\n\r\n    // 카드사 엑셀 업로드 상태\r\n    const [showCardExcelModal, setShowCardExcelModal] = useState(false);\r\n    const [cardExcelFile, setCardExcelFile] = useState<File | null>(null);\r\n    const [isCardExcelDragging, setIsCardExcelDragging] = useState(false);\r\n    const [cardType, setCardType] = useState<\"credit\" | \"debit\" | \"cash\">(\"credit\");\r\n    const [cardExcelPreview, setCardExcelPreview] = useState<{ date: string, merchant: string, amount: number, excluded: boolean, category: \"card\" | \"transport\" | \"insurance\" | \"medical\" | \"market\" | \"culture\" | \"excluded\" }[]>([]);\r\n    const [excludedCount, setExcludedCount] = useState(0);\r\n\r\n    // 지출 항목 상태\r\n    const [selectedSpendingMonth, setSelectedSpendingMonth] = useState(1); // 지출 데이터 월 선택\r\n    const [spendingItems, setSpendingItems] = useState<SpendingItem[]>([\r\n        { id: \"1\", name: \"신용카드\", amount: \"1,234,567\", month: 1 },\r\n        { id: \"2\", name: \"직불카드\", amount: \"456,789\", month: 1 },\r\n        { id: \"3\", name: \"현금영수증\", amount: \"50,000\", month: 1 },\r\n        { id: \"4\", name: \"대중교통\", amount: \"80,000\", month: 1 },\r\n    ]);\r\n    const [showAddItemModal, setShowAddItemModal] = useState(false);\r\n    const [newItemName, setNewItemName] = useState(\"\");\r\n    const [newItemAmount, setNewItemAmount] = useState(\"\");\r\n    const [newItemMonth, setNewItemMonth] = useState(1); // 신규 항목 월 선택\r\n\r\n    // 세부 내역 모달 상태\r\n    const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n    const [selectedItemDetails, setSelectedItemDetails] = useState<SpendingItem | null>(null);\r\n\r\n    // 가족정보 상태 (기본공제 - 본인 제외)\r\n    const [familyData, setFamilyData] = useState({\r\n        spouse: false,\r\n        children: 0,\r\n        childrenUnder6: 0,       // 6세 이하 자녀 수 (보육수당)\r\n        childrenOver8: 0,        // 8세 이상 자녀 수 (자녀세액공제)\r\n        birthAdoption: \"none\" as \"none\" | \"first\" | \"second\" | \"third1\" | \"third2\" | \"third3\",  // 출생·입양자\r\n        parents: 0,\r\n        siblings: 0,\r\n        foster: 0,               // 위탁아동\r\n        recipient: 0,            // 기초생활수급자\r\n        disabled: 0,\r\n        seniorOver70: 0,\r\n        singleParent: false,\r\n    });\r\n\r\n    const handleButtonClick = (btnName: string, callback?: () => void) => {\r\n        setClickedBtn(btnName);\r\n        callback?.();\r\n        setTimeout(() => setClickedBtn(null), 300);\r\n    };\r\n\r\n    const showNotification = (type: \"success\" | \"error\", message: string) => {\r\n        setNotification({ type, message });\r\n        setTimeout(() => setNotification(null), 3000);\r\n    };\r\n\r\n    // 저장된 데이터 불러오기 (연도별)\r\n    const loadYearData = (year: number) => {\r\n        const savedData = loadAdminData(year);\r\n        if (savedData) {\r\n            // 월별 급여 데이터 복원\r\n            if (savedData.salary.monthly) {\r\n                setMonthlySalary(savedData.salary.monthly);\r\n            } else {\r\n                // 구버전 호환: 단일 데이터를 12개월에 복사\r\n                const legacyData: MonthlySalaryData = {\r\n                    totalSalary: savedData.salary.totalSalary?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    mealAllowance: savedData.salary.mealAllowance?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    nationalPension: savedData.salary.nationalPension?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    healthInsurance: savedData.salary.healthInsurance?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    longTermCare: savedData.salary.longTermCare?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    employmentInsurance: savedData.salary.employmentInsurance?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    bonus: savedData.salary.bonus?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    childTuition: savedData.salary.childTuition?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    prepaidTax: savedData.salary.prepaidTax?.toLocaleString(\"ko-KR\") || \"0\",\r\n                    localIncomeTax: savedData.salary.localIncomeTax?.toLocaleString(\"ko-KR\") || \"0\",\r\n                };\r\n                const monthlyInit: { [month: number]: MonthlySalaryData } = {};\r\n                for (let m = 1; m <= 12; m++) {\r\n                    monthlyInit[m] = { ...legacyData };\r\n                }\r\n                setMonthlySalary(monthlyInit);\r\n            }\r\n            // 6세 이하 자녀 수는 가족 정보로 복원\r\n            if (savedData.salary.childrenUnder6 !== undefined) {\r\n                setFamilyData(prev => ({ ...prev, childrenUnder6: savedData.salary.childrenUnder6 }));\r\n            }\r\n            // 지출 항목 복원 - spendingItems 배열 우선 사용 (없으면 구버전 호환)\r\n            if (savedData.spendingItems && savedData.spendingItems.length > 0) {\r\n                // 새 형식: spendingItems 배열 직접 복원\r\n                setSpendingItems(savedData.spendingItems);\r\n            } else {\r\n                // 구버전 호환: 카테고리별 복원\r\n                const restoredSpending: SpendingItem[] = [];\r\n                if (savedData.spending.creditCard > 0) {\r\n                    restoredSpending.push({ id: \"1\", name: \"신용카드\", amount: savedData.spending.creditCard.toLocaleString(\"ko-KR\"), month: 1 });\r\n                }\r\n                if (savedData.spending.debitCard > 0) {\r\n                    restoredSpending.push({ id: \"2\", name: \"체크카드\", amount: savedData.spending.debitCard.toLocaleString(\"ko-KR\"), month: 1 });\r\n                }\r\n                if (savedData.spending.cash > 0) {\r\n                    restoredSpending.push({ id: \"3\", name: \"현금영수증\", amount: savedData.spending.cash.toLocaleString(\"ko-KR\"), month: 1 });\r\n                }\r\n                if (savedData.spending.publicTransport > 0) {\r\n                    restoredSpending.push({ id: \"4\", name: \"대중교통\", amount: savedData.spending.publicTransport.toLocaleString(\"ko-KR\"), month: 1 });\r\n                }\r\n                setSpendingItems(restoredSpending.length > 0 ? restoredSpending : []);\r\n            }\r\n            // 가족정보 복원 (이전 데이터 호환)\r\n            if (savedData.family) {\r\n                setFamilyData({\r\n                    spouse: savedData.family.spouse || false,\r\n                    children: savedData.family.children || 0,\r\n                    childrenUnder6: savedData.family.childrenUnder6 || savedData.salary.childrenUnder6 || 0,\r\n                    childrenOver8: savedData.family.childrenOver8 || 0,\r\n                    birthAdoption: savedData.family.birthAdoption || \"none\",\r\n                    parents: savedData.family.parents || 0,\r\n                    siblings: savedData.family.siblings || 0,\r\n                    foster: savedData.family.foster || 0,\r\n                    recipient: savedData.family.recipient || 0,\r\n                    disabled: savedData.family.disabled || 0,\r\n                    seniorOver70: savedData.family.seniorOver70 || 0,\r\n                    singleParent: savedData.family.singleParent || false,\r\n                });\r\n            }\r\n        } else {\r\n            // 데이터 없을 시 초기화\r\n            const defaultData: MonthlySalaryData = {\r\n                totalSalary: \"0\",\r\n                mealAllowance: \"0\",\r\n                nationalPension: \"0\",\r\n                healthInsurance: \"0\",\r\n                longTermCare: \"0\",\r\n                employmentInsurance: \"0\",\r\n                bonus: \"0\",\r\n                childTuition: \"0\",\r\n                prepaidTax: \"0\",\r\n                localIncomeTax: \"0\",\r\n            };\r\n            const initial: { [month: number]: MonthlySalaryData } = {};\r\n            for (let m = 1; m <= 12; m++) {\r\n                initial[m] = { ...defaultData };\r\n            }\r\n            setMonthlySalary(initial);\r\n            setSpendingItems([]);\r\n            setFamilyData({\r\n                spouse: false,\r\n                children: 0,\r\n                childrenUnder6: 0,\r\n                childrenOver8: 0,\r\n                birthAdoption: \"none\",\r\n                parents: 0,\r\n                siblings: 0,\r\n                foster: 0,\r\n                recipient: 0,\r\n                disabled: 0,\r\n                seniorOver70: 0,\r\n                singleParent: false\r\n            });\r\n        }\r\n    };\r\n\r\n    // 초기 로드 - localStorage에서 마지막 선택 연도 복원\r\n    useEffect(() => {\r\n        const savedYear = localStorage.getItem(\"taxai_selected_year\");\r\n        const initialYear = savedYear ? parseInt(savedYear) : 2026; // 기본값 2026년\r\n        setSelectedYear(initialYear);\r\n        loadYearData(initialYear);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // 연도 변경 시 데이터 리로드 + 선택 연도 저장\r\n    const handleYearChange = (year: number) => {\r\n        setSelectedYear(year);\r\n        localStorage.setItem(\"taxai_selected_year\", year.toString());\r\n        loadYearData(year);\r\n    };\r\n\r\n    // 데이터 저장 함수\r\n    const handleSave = () => {\r\n        const parseAmount = (str: string | undefined | null): number => {\r\n            if (!str) return 0;\r\n            return parseInt(str.replace(/[^0-9]/g, \"\")) || 0;\r\n        };\r\n\r\n        // 지출 항목에서 각 카테고리 금액 추출 (모든 월 합산)\r\n        const getSpendingAmount = (name: string): number => {\r\n            return spendingItems\r\n                .filter(i => i.name.includes(name))\r\n                .reduce((sum, item) => sum + parseAmount(item.amount), 0);\r\n        };\r\n\r\n        const adminData: AdminData = {\r\n            year: selectedYear,\r\n            salary: {\r\n                monthly: monthlySalary,\r\n                childrenUnder6: familyData.childrenUnder6 || 0,\r\n                // 연간 합계 (계산기로 전달용)\r\n                totalSalary: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.totalSalary), 0),\r\n                bonus: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.bonus), 0),\r\n                childTuition: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.childTuition), 0),\r\n                mealAllowance: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.mealAllowance), 0),\r\n                nationalPension: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.nationalPension), 0),\r\n                healthInsurance: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.healthInsurance), 0),\r\n                longTermCare: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.longTermCare), 0),\r\n                employmentInsurance: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.employmentInsurance), 0),\r\n                prepaidTax: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.prepaidTax), 0),\r\n                localIncomeTax: Object.values(monthlySalary).reduce((sum, m) => sum + parseAmount(m.localIncomeTax), 0),\r\n            },\r\n            spending: {\r\n                creditCard: getSpendingAmount(\"신용카드\"),\r\n                debitCard: getSpendingAmount(\"체크카드\"),\r\n                cash: getSpendingAmount(\"현금영수증\"),\r\n                publicTransport: getSpendingAmount(\"대중교통\"),\r\n                traditionalMarket: getSpendingAmount(\"전통시장\"),\r\n                culture: getSpendingAmount(\"문화\"),\r\n            },\r\n            family: {\r\n                spouse: familyData.spouse,\r\n                children: familyData.children,\r\n                childrenUnder6: familyData.childrenUnder6,\r\n                childrenOver8: familyData.childrenOver8,\r\n                birthAdoption: familyData.birthAdoption,\r\n                parents: familyData.parents,\r\n                siblings: familyData.siblings,\r\n                foster: familyData.foster,\r\n                recipient: familyData.recipient,\r\n                disabled: familyData.disabled,\r\n                seniorOver70: familyData.seniorOver70,\r\n                singleParent: familyData.singleParent,\r\n            },\r\n            deductions: {\r\n                medical: getSpendingAmount(\"의료비\"),  // 레거시 호환\r\n                medicalInfertility: getSpendingAmount(\"의료비(난임시술비)\"),\r\n                medicalPremature: getSpendingAmount(\"의료비(미숙아,선천성)\"),\r\n                medicalSelf: getSpendingAmount(\"의료비(본인,장애,65세,6세)\"),\r\n                medicalFamily: getSpendingAmount(\"의료비(그밖부양가족)\"),\r\n                education: getSpendingAmount(\"교육비\"),  // 레거시 호환 (총합)\r\n                educationSelf: getSpendingAmount(\"교육비(본인)\"),\r\n                educationChild: 0,  // 레거시 호환\r\n                educationPreschool1: getSpendingAmount(\"교육비(미취학)-자녀1\"),\r\n                educationPreschool2: getSpendingAmount(\"교육비(미취학)-자녀2\"),\r\n                educationPreschool3: getSpendingAmount(\"교육비(미취학)-자녀3\"),\r\n                educationK12_1: getSpendingAmount(\"교육비(초중고)-자녀1\"),\r\n                educationK12_2: getSpendingAmount(\"교육비(초중고)-자녀2\"),\r\n                educationK12_3: getSpendingAmount(\"교육비(초중고)-자녀3\"),\r\n                educationUniv: 0,  // 레거시 호환\r\n                educationUniv1: getSpendingAmount(\"교육비(대학)-자녀1\"),\r\n                educationUniv2: getSpendingAmount(\"교육비(대학)-자녀2\"),\r\n                educationUniv3: getSpendingAmount(\"교육비(대학)-자녀3\"),\r\n                housing: getSpendingAmount(\"주택자금(청약저축)\") + getSpendingAmount(\"주택자금(청약저축) - 세대주\") + getSpendingAmount(\"주택자금(청약저축) - 배우자\"),  // 레거시 호환\r\n                housingSubscription: getSpendingAmount(\"주택자금(청약저축)\") + getSpendingAmount(\"주택자금(청약저축) - 세대주\") + getSpendingAmount(\"주택자금(청약저축) - 배우자\"),\r\n                housingSubscriptionHead: getSpendingAmount(\"주택자금(청약저축) - 세대주\"),\r\n                housingSubscriptionSpouse: getSpendingAmount(\"주택자금(청약저축) - 배우자\"),\r\n                housingRent: getSpendingAmount(\"주택자금(월세)\"),\r\n                housingLoan: getSpendingAmount(\"주택자금(임차차입금원리금상환액)\"),\r\n                housingMortgage: getSpendingAmount(\"주택자금(장기주택)\"),  // 레거시 호환\r\n                housingMortgage15Fixed: getSpendingAmount(\"주택자금(장기주택)(15년이상 고정금리+비거치식)\"),\r\n                housingMortgage15Either: getSpendingAmount(\"주택자금(장기주택)(15년이상 고정금리 or 비거치식)\"),\r\n                housingMortgage15Other: getSpendingAmount(\"주택자금(장기주택)(15년이상 기타)\"),\r\n                housingMortgage10Either: getSpendingAmount(\"주택자금(장기주택)(10년이상 고정금리 or 비거치식)\"),\r\n                pension: getSpendingAmount(\"연금저축\") + getSpendingAmount(\"퇴직연금(IRP)\"),  // 레거시 호환\r\n                pensionSavings: getSpendingAmount(\"연금저축\"),\r\n                pensionIRP: getSpendingAmount(\"퇴직연금(IRP)\"),\r\n                insurance: getSpendingAmount(\"보험료\"),\r\n                donation: getSpendingAmount(\"기부금\"),  // 레거시 호환 (총합)\r\n                donationPolitical: getSpendingAmount(\"기부금(정치자금)\"),\r\n                donationHometown: getSpendingAmount(\"기부금(고향사랑)\"),\r\n                donationDisaster: getSpendingAmount(\"기부금(고향사랑특별재난)\"),\r\n                donationSpecial: getSpendingAmount(\"기부금(특례기부금)\"),\r\n                donationStock: getSpendingAmount(\"기부금(우리사주조합)\"),\r\n                donationReligious: getSpendingAmount(\"기부금(일반기부금(종교))\"),\r\n                donationNonReligious: getSpendingAmount(\"기부금(일반기부금(종교 외))\"),\r\n            },\r\n            spendingItems: spendingItems, // 지출 항목 원본 저장\r\n            updatedAt: new Date().toISOString(),\r\n        };\r\n\r\n        saveAdminData(selectedYear, adminData);\r\n        showNotification(\"success\", \"저장되었습니다!\");\r\n    };\r\n\r\n    const handleAddItem = () => {\r\n        if (!newItemName.trim() || !newItemAmount.trim()) {\r\n            showNotification(\"error\", \"항목명과 금액을 모두 입력해주세요.\");\r\n            return;\r\n        }\r\n        const newItem: SpendingItem = {\r\n            id: Date.now().toString(),\r\n            name: newItemName,\r\n            amount: newItemAmount,\r\n            month: newItemMonth,\r\n        };\r\n        setSpendingItems(prev => [...prev, newItem]);\r\n        setNewItemName(\"\");\r\n        setNewItemAmount(\"\");\r\n        setNewItemMonth(1);\r\n        setShowAddItemModal(false);\r\n        showNotification(\"success\", `\"${newItemName}\" 항목이 ${newItemMonth}월에 추가되었습니다!`);\r\n    };\r\n\r\n    const handleDeleteItem = (id: string) => {\r\n        setSpendingItems(prev => prev.filter(item => item.id !== id));\r\n        showNotification(\"success\", \"항목이 삭제되었습니다.\");\r\n    };\r\n\r\n    const formatNumber = (num: number): string => {\r\n        return num.toLocaleString(\"ko-KR\");\r\n    };\r\n\r\n    // Excel Upload Handler - Process file\r\n    const processExcelFile = (file: File) => {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n            try {\r\n                const data = new Uint8Array(event.target?.result as ArrayBuffer);\r\n                const workbook = XLSX.read(data, { type: \"array\" });\r\n                const sheetName = workbook.SheetNames[0];\r\n                const worksheet = workbook.Sheets[sheetName];\r\n                const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 }) as (string | number)[][];\r\n\r\n                // Look for salary data in the Excel file\r\n                let newSalaryData: Partial<MonthlySalaryData> = {};\r\n\r\n                jsonData.forEach((row) => {\r\n                    if (!row || row.length < 2) return;\r\n                    const label = String(row[0]).toLowerCase();\r\n                    const value = Number(row[1]) || 0;\r\n\r\n                    if (label.includes(\"총급여\") || label.includes(\"급여\") || label.includes(\"salary\")) {\r\n                        newSalaryData.totalSalary = formatNumber(value);\r\n                    } else if (label.includes(\"식대\") || label.includes(\"비과세\")) {\r\n                        newSalaryData.mealAllowance = formatNumber(value);\r\n                    } else if (label.includes(\"국민연금\") || label.includes(\"pension\")) {\r\n                        newSalaryData.nationalPension = formatNumber(value);\r\n                    } else if (label.includes(\"건강보험\") || label.includes(\"health\")) {\r\n                        newSalaryData.healthInsurance = formatNumber(value);\r\n                    } else if (label.includes(\"장기요양\") || label.includes(\"long\")) {\r\n                        newSalaryData.longTermCare = formatNumber(value);\r\n                    } else if (label.includes(\"고용보험\") || label.includes(\"employment\")) {\r\n                        newSalaryData.employmentInsurance = formatNumber(value);\r\n                    }\r\n                });\r\n\r\n                if (Object.keys(newSalaryData).length > 0) {\r\n                    setMonthlySalary(prev => ({\r\n                        ...prev,\r\n                        [excelModalMonth]: { ...prev[excelModalMonth], ...newSalaryData }\r\n                    }));\r\n                    showNotification(\"success\", `${excelModalMonth}월 엑셀 데이터를 성공적으로 불러왔습니다!`);\r\n                    handleExcelModalClose();\r\n                } else {\r\n                    showNotification(\"error\", \"인식할 수 있는 데이터가 없습니다. 엑셀 형식을 확인해주세요.\");\r\n                }\r\n            } catch {\r\n                showNotification(\"error\", \"엑셀 파일을 읽는 중 오류가 발생했습니다.\");\r\n            }\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n    };\r\n\r\n    const handleExcelUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n        setExcelFile(file);\r\n    };\r\n\r\n    const handleExcelDrop = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsExcelDragging(false);\r\n        const file = e.dataTransfer.files?.[0];\r\n        if (file && (file.name.endsWith('.xlsx') || file.name.endsWith('.xls'))) {\r\n            setExcelFile(file);\r\n        } else {\r\n            showNotification(\"error\", \"엑셀 파일(.xlsx, .xls)만 업로드 가능합니다.\");\r\n        }\r\n    };\r\n\r\n    const handleExcelDragOver = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsExcelDragging(true);\r\n    };\r\n\r\n    const handleExcelDragLeave = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsExcelDragging(false);\r\n    };\r\n\r\n    const handleExcelModalOpen = () => {\r\n        setShowExcelModal(true);\r\n        setExcelFile(null);\r\n        setExcelModalMonth(selectedMonth);\r\n    };\r\n\r\n    const handleExcelModalClose = () => {\r\n        setShowExcelModal(false);\r\n        setExcelFile(null);\r\n        setIsExcelDragging(false);\r\n        if (fileInputRef.current) {\r\n            fileInputRef.current.value = \"\";\r\n        }\r\n    };\r\n\r\n    const handleExcelApply = () => {\r\n        if (excelFile) {\r\n            processExcelFile(excelFile);\r\n        }\r\n    };\r\n\r\n    // 완전 제외 키워드 목록 (소득공제 불가 - 어디에도 포함 안됨)\r\n    const EXCLUDED_KEYWORDS = [\r\n        // 세금·공과금\r\n        \"국세\", \"지방세\", \"전기요금\", \"수도요금\", \"가스요금\", \"아파트관리비\", \"관리비\", \"도로통행료\", \"하이패스\", \"통행료\",\r\n        \"지자체세입금\", \"자동차세\", \"재산세\", \"주민세\", \"도시가스\", \"한국전력\", \"한전\",\r\n        // 통신비\r\n        \"휴대전화\", \"휴대폰\", \"핸드폰\", \"인터넷\", \"SKT\", \"KT\", \"LG U+\", \"LGU+\", \"통신\", \"에스케이텔레콤\", \"케이티\",\r\n        // 자동차\r\n        \"신차\", \"자동차리스\", \"리스료\", \"렌트료\",\r\n        // 선승인/가승인 (취소될 예비 승인)\r\n        \"선승인\", \"가승인\"\r\n    ];\r\n\r\n    // 대중교통 키워드 (카드 사용금액에서 제외, 대중교통 항목으로 별도 집계)\r\n    // 참고: 택시는 대중교통 공제 대상이 아님 (일반 카드 사용)\r\n    const PUBLIC_TRANSPORT_KEYWORDS = [\r\n        \"버스\", \"지하철\", \"모바일이즐\", \"모바일이즐페이\", \"후불교통\", \"교통카드\", \"티머니\", \"캐시비\",\r\n        \"코레일\", \"KTX\", \"SRT\", \"철도\", \"고속버스\", \"시외버스\"\r\n    ];\r\n\r\n    // 보험료 키워드 (카드 사용금액에서 제외, 보험료 항목으로 별도 집계)\r\n    const INSURANCE_KEYWORDS = [\r\n        \"보험\", \"메리츠화재\", \"DB손해보험\", \"삼성화재\", \"현대해상\", \"KB손해보험\", \"한화손해보험\",\r\n        \"국민연금\", \"건강보험\"\r\n    ];\r\n\r\n    // 의료비 키워드 (카드 사용금액에서 제외, 의료비 항목으로 별도 집계)\r\n    const MEDICAL_KEYWORDS = [\r\n        // 병원/의원\r\n        \"병원\", \"의원\", \"클리닉\", \"clinic\", \"hospital\", \"메디컬\", \"medical\",\r\n        // 의료법인/재단\r\n        \"의료법인\", \"의료재단\", \"의료원\",\r\n        // 약국\r\n        \"약국\", \"pharmacy\", \"팜\",\r\n        // 치과\r\n        \"치과\", \"dental\", \"dentist\",\r\n        // 한의원\r\n        \"한의원\", \"한방\",\r\n        // 안과/이비인후과 등\r\n        \"안과\", \"이비인후과\", \"피부과\", \"정형외과\", \"내과\", \"외과\", \"소아과\", \"산부인과\", \"비뇨기과\",\r\n        // 건강검진센터\r\n        \"건강검진\", \"검진센터\"\r\n    ];\r\n\r\n    // 전통시장 키워드 (전통시장 항목으로 별도 집계)\r\n    const TRADITIONAL_MARKET_KEYWORDS = [\r\n        \"전통시장\", \"재래시장\", \"시장\", \"5일장\", \"오일장\", \"장터\", \"농수산물시장\",\r\n        \"수산시장\", \"농산물시장\", \"청과시장\", \"축산시장\"\r\n    ];\r\n\r\n    // 문화체육 키워드 (문화체육 항목으로 별도 집계)\r\n    const CULTURE_SPORTS_KEYWORDS = [\r\n        // 도서\r\n        \"서점\", \"도서\", \"북스\", \"books\", \"교보문고\", \"영풍문고\", \"알라딘\", \"예스24\",\r\n        // 공연/영화\r\n        \"영화관\", \"CGV\", \"롯데시네마\", \"메가박스\", \"극장\", \"공연장\", \"뮤지컬\", \"콘서트\",\r\n        // 미술관/박물관\r\n        \"미술관\", \"박물관\", \"전시관\", \"갤러리\",\r\n        // 체육시설\r\n        \"헬스\", \"피트니스\", \"수영장\", \"골프\", \"테니스\", \"볼링\", \"스포츠센터\", \"체육관\", \"요가\", \"필라테스\"\r\n    ];\r\n\r\n    // 카드사 엑셀 파싱 함수\r\n    const processCardExcelFile = (file: File) => {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n            try {\r\n                const data = new Uint8Array(event.target?.result as ArrayBuffer);\r\n                const workbook = XLSX.read(data, { type: \"array\" });\r\n                const sheetName = workbook.SheetNames[0];\r\n                const worksheet = workbook.Sheets[sheetName];\r\n                const jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1 }) as (string | number)[][];\r\n\r\n                console.log(\"Excel data rows:\", jsonData.length);\r\n                console.log(\"First row (header):\", jsonData[0]);\r\n                console.log(\"Second row (data sample):\", jsonData[1]);\r\n\r\n                if (jsonData.length < 2) {\r\n                    showNotification(\"error\", \"엑셀 파일에 데이터가 없습니다.\");\r\n                    return;\r\n                }\r\n\r\n                // 헤더 행 찾기 (첫 번째 행 또는 데이터가 시작되는 행)\r\n                let headerRowIndex = 0;\r\n                const firstRow = jsonData[0] || [];\r\n\r\n                // 첫 행이 요약 행인지 확인 (예: \"총 사용금액: 681,235(원)\")\r\n                const firstRowStr = firstRow.map(h => String(h || \"\").toLowerCase()).join(\" \");\r\n                const isSummaryFirstRow = firstRowStr.includes(\"총\") && (firstRowStr.includes(\"금액\") || firstRowStr.includes(\"건\"));\r\n\r\n                // 첫 행이 요약 행이거나 헤더 키워드가 없으면 다음 행들에서 헤더 찾기\r\n                if (isSummaryFirstRow || (\r\n                    !firstRowStr.includes(\"승인\") && !firstRowStr.includes(\"거래일\") &&\r\n                    !firstRowStr.includes(\"가맹점\") && !firstRowStr.includes(\"사용처\") &&\r\n                    !firstRowStr.includes(\"발행구분\"))) {\r\n\r\n                    // 2~5행 중에서 실제 헤더 행 찾기\r\n                    for (let i = 1; i < Math.min(5, jsonData.length); i++) {\r\n                        const rowStr = (jsonData[i] || []).map(h => String(h || \"\").toLowerCase()).join(\" \");\r\n                        // 헤더 행은 보통 컬럼이 여러 개이고, 헤더 키워드를 포함\r\n                        const hasMultipleColumns = (jsonData[i] || []).length >= 3;\r\n                        const hasHeaderKeywords = rowStr.includes(\"거래일\") || rowStr.includes(\"가맹점\") ||\r\n                            rowStr.includes(\"사용처\") || rowStr.includes(\"상호\") ||\r\n                            rowStr.includes(\"승인번호\") || rowStr.includes(\"발행구분\");\r\n\r\n                        if (hasMultipleColumns && hasHeaderKeywords) {\r\n                            headerRowIndex = i;\r\n                            console.log(\"Found header row at index:\", i);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const headerRow = jsonData[headerRowIndex] || [];\r\n                const headers = headerRow.map(h => String(h || \"\").toLowerCase());\r\n                console.log(\"Detected header row index:\", headerRowIndex);\r\n                console.log(\"Headers:\", headers);\r\n\r\n                // 열 인덱스 찾기 (카드사/현금영수증 양식마다 열 순서가 다름)\r\n                // 날짜 열: 다양한 패턴 지원\r\n                let dateCol = headers.findIndex(h =>\r\n                    h.includes(\"승인일\") || h.includes(\"이용일\") || h.includes(\"거래일\") ||\r\n                    h.includes(\"결제일\") || h.includes(\"매출일\") || h.includes(\"일자\") ||\r\n                    h.includes(\"date\") || h.includes(\"날짜\") || h.includes(\"발행일\") ||\r\n                    h.includes(\"사용일\")\r\n                );\r\n\r\n                // 가맹점 열: 다양한 패턴 지원 (현금영수증 포함)\r\n                let merchantCol = headers.findIndex(h =>\r\n                    h.includes(\"가맹점\") || h.includes(\"상호\") || h.includes(\"이용처\") ||\r\n                    h.includes(\"merchant\") || h.includes(\"매장\") || h.includes(\"사업자\") ||\r\n                    h.includes(\"업체\") || h.includes(\"결제처\") || h.includes(\"사용처\") ||\r\n                    h.includes(\"상호명\")\r\n                );\r\n\r\n                // 금액 열: 다양한 패턴 지원\r\n                let amountCol = headers.findIndex(h =>\r\n                    h.includes(\"금액\") || h.includes(\"결제금액\") || h.includes(\"이용금액\") ||\r\n                    h.includes(\"승인금액\") || h.includes(\"amount\") || h.includes(\"원\") ||\r\n                    h.includes(\"사용금액\") || h.includes(\"거래금액\") || h.includes(\"공제금액\")\r\n                );\r\n\r\n                // 취소/발행구분 열: 다양한 패턴 지원 (현금영수증 발행구분 포함)\r\n                let cancelCol = headers.findIndex(h =>\r\n                    h.includes(\"취소\") || h.includes(\"cancel\") || h.includes(\"상태\") ||\r\n                    h.includes(\"비고\") || h.includes(\"구분\") || h.includes(\"발행구분\") ||\r\n                    h.includes(\"발행유형\") || h.includes(\"거래구분\")\r\n                );\r\n\r\n                // 승인번호 열\r\n                let approvalCol = headers.findIndex(h =>\r\n                    h.includes(\"승인번호\") || h.includes(\"승인no\") || h.includes(\"approval\") ||\r\n                    h.includes(\"거래번호\") || h.includes(\"전표번호\") || h.includes(\"현금영수증번호\")\r\n                );\r\n\r\n                // 업종/분류 열 (전통시장, 대중교통 구분용)\r\n                let categoryCol = headers.findIndex(h =>\r\n                    h.includes(\"업종\") || h.includes(\"업태\") || h.includes(\"분류\") ||\r\n                    h.includes(\"업종명\") || h.includes(\"카테고리\")\r\n                );\r\n\r\n                console.log(\"Detected columns - date:\", dateCol, \"merchant:\", merchantCol, \"amount:\", amountCol, \"cancel:\", cancelCol, \"approval:\", approvalCol, \"category:\", categoryCol);\r\n\r\n                // 열을 찾지 못한 경우 스마트 추론\r\n                if (dateCol === -1 || merchantCol === -1 || amountCol === -1) {\r\n                    // 데이터 행을 분석하여 열 타입 추론\r\n                    const sampleRows = jsonData.slice(headerRowIndex + 1, headerRowIndex + 10);\r\n\r\n                    for (let colIdx = 0; colIdx < (jsonData[headerRowIndex + 1]?.length || 0); colIdx++) {\r\n                        const sampleValues = sampleRows.map(row => row?.[colIdx]).filter(v => v != null);\r\n\r\n                        // 날짜 형식 감지 (YYYY-MM-DD, YYYY.MM.DD, YYYYMMDD 등)\r\n                        if (dateCol === -1) {\r\n                            const datePattern = /^\\d{4}[-./]?\\d{2}[-./]?\\d{2}/;\r\n                            const isDateCol = sampleValues.some(v => datePattern.test(String(v)));\r\n                            if (isDateCol) dateCol = colIdx;\r\n                        }\r\n\r\n                        // 금액 열 감지 (숫자만 있거나 원 단위)\r\n                        if (amountCol === -1) {\r\n                            const numPattern = /^-?\\d{1,3}(,\\d{3})*$/;\r\n                            const isAmountCol = sampleValues.every(v => {\r\n                                const cleanVal = String(v).replace(/[^0-9,-]/g, \"\");\r\n                                return numPattern.test(cleanVal) || !isNaN(Number(v));\r\n                            });\r\n                            if (isAmountCol && sampleValues.length > 0) {\r\n                                const avgLen = sampleValues.reduce((sum: number, v) => sum + String(v).length, 0) / sampleValues.length;\r\n                                if (avgLen >= 4) amountCol = colIdx; // 최소 4자리 이상 (1000원 이상)\r\n                            }\r\n                        }\r\n\r\n                        // 가맹점명 열 감지 (한글 포함, 긴 텍스트)\r\n                        if (merchantCol === -1) {\r\n                            const koreanPattern = /[가-힣]/;\r\n                            const isMerchantCol = sampleValues.every(v => {\r\n                                const str = String(v);\r\n                                return koreanPattern.test(str) && str.length >= 2;\r\n                            });\r\n                            if (isMerchantCol && colIdx !== dateCol && colIdx !== amountCol) {\r\n                                merchantCol = colIdx;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // 여전히 찾지 못한 경우 기본값 사용\r\n                if (dateCol === -1) dateCol = 2;\r\n                if (merchantCol === -1) merchantCol = 4;\r\n                if (amountCol === -1) amountCol = 5;\r\n                if (cancelCol === -1) cancelCol = 9;\r\n                if (approvalCol === -1) approvalCol = 8;\r\n\r\n                console.log(\"Final columns - date:\", dateCol, \"merchant:\", merchantCol, \"amount:\", amountCol);\r\n\r\n\r\n                // 취소된 거래의 승인번호 수집\r\n                const cancelledApprovals = new Set<string>();\r\n                const CANCEL_KEYWORDS = [\r\n                    \"취소\", \"전체취소\", \"부분취소\", \"cancel\", \"cancelled\", \"void\", \"refund\",\r\n                    \"환불\", \"반품\", \"취소승인\", \"매입취소\", \"승인취소\", \"카드취소\"\r\n                ];\r\n\r\n                // 1차: 취소 열 기반으로 취소 거래 수집\r\n                jsonData.slice(headerRowIndex + 1).forEach(row => {\r\n                    if (!row) return;\r\n                    const cancelValue = row[cancelCol];\r\n                    const approvalNum = String(row[approvalCol] || \"\");\r\n\r\n                    // 취소여부 열에 \"취소\" 관련 키워드가 포함된 경우\r\n                    const cancelStr = String(cancelValue || \"\").trim().toLowerCase();\r\n                    const isCancelled = CANCEL_KEYWORDS.some(keyword => cancelStr.includes(keyword));\r\n\r\n                    if (isCancelled && approvalNum) {\r\n                        cancelledApprovals.add(approvalNum);\r\n                    }\r\n                });\r\n\r\n                // 2차: 가맹점명에 취소 키워드가 있는 경우도 수집\r\n                jsonData.slice(headerRowIndex + 1).forEach(row => {\r\n                    if (!row) return;\r\n                    const merchant = String(row[merchantCol] || \"\").toLowerCase();\r\n                    const approvalNum = String(row[approvalCol] || \"\");\r\n\r\n                    // 가맹점명에 취소 관련 키워드가 있으면 취소로 처리\r\n                    const hasCancelKeyword = CANCEL_KEYWORDS.some(keyword => merchant.includes(keyword));\r\n                    if (hasCancelKeyword && approvalNum) {\r\n                        cancelledApprovals.add(approvalNum);\r\n                    }\r\n                });\r\n\r\n                console.log(\"Cancelled approvals:\", cancelledApprovals.size);\r\n\r\n                // 데이터 파싱 및 필터링\r\n                const parsedData: { date: string, merchant: string, amount: number, excluded: boolean, category: \"card\" | \"transport\" | \"insurance\" | \"medical\" | \"market\" | \"culture\" | \"excluded\", approvalNum: string }[] = [];\r\n                let excludedCnt = 0;\r\n                let skippedCnt = 0;\r\n\r\n                jsonData.slice(headerRowIndex + 1).forEach((row, idx) => {\r\n                    if (!row || row.length < 3) {\r\n                        skippedCnt++;\r\n                        return;\r\n                    }\r\n\r\n                    const date = String(row[dateCol] || \"\");\r\n                    const merchant = String(row[merchantCol] || \"\");\r\n                    const amountRaw = row[amountCol];\r\n                    const cancelValue = cancelCol >= 0 ? String(row[cancelCol] || \"\").toLowerCase() : \"\";\r\n                    const categoryValue = categoryCol >= 0 ? String(row[categoryCol] || \"\").toLowerCase() : \"\";\r\n\r\n                    // 발행구분 체크 - 취소/환불 건 제외\r\n                    const CANCEL_ISSUE_KEYWORDS = [\"취소\", \"환불\", \"반품\", \"cancel\", \"refund\", \"취소발행\"];\r\n                    const isCancelIssue = CANCEL_ISSUE_KEYWORDS.some(keyword => cancelValue.includes(keyword));\r\n                    if (isCancelIssue) {\r\n                        excludedCnt++;\r\n                        console.log(\"❌ 취소/환불 발행 제외:\", merchant, cancelValue);\r\n                        return;\r\n                    }\r\n\r\n                    // 합계/소계 행 스킵 (엑셀 파일 하단의 총합계 행 제외)\r\n                    const SUMMARY_KEYWORDS = [\"총\", \"합계\", \"소계\", \"total\", \"sum\", \"subtotal\", \"건\"];\r\n                    const merchantLowerForSummary = merchant.toLowerCase();\r\n                    const dateLowerForSummary = date.toLowerCase();\r\n\r\n                    const isSummaryRow = SUMMARY_KEYWORDS.some(keyword =>\r\n                        merchantLowerForSummary.includes(keyword) || dateLowerForSummary.includes(keyword)\r\n                    );\r\n\r\n                    if (isSummaryRow) {\r\n                        console.log(\"📊 합계 행 제외:\", merchant, date);\r\n                        skippedCnt++;\r\n                        return;\r\n                    }\r\n\r\n                    // 금액 파싱 개선 - 다양한 형식 지원\r\n                    let amount = 0;\r\n                    let isNegativeAmount = false;\r\n                    if (typeof amountRaw === \"number\") {\r\n                        isNegativeAmount = amountRaw < 0;\r\n                        amount = Math.abs(amountRaw);\r\n                    } else if (amountRaw) {\r\n                        const amountStr = String(amountRaw);\r\n                        isNegativeAmount = amountStr.includes(\"-\") || amountStr.includes(\"(\");\r\n                        const cleanedAmount = amountStr.replace(/[^0-9.-]/g, \"\");\r\n                        amount = Math.abs(parseInt(cleanedAmount) || 0);\r\n                    }\r\n\r\n                    const approvalNum = String(row[approvalCol] || \"\");\r\n\r\n                    // 빈 행 스킵\r\n                    if (!date && !merchant && amount === 0) {\r\n                        skippedCnt++;\r\n                        return;\r\n                    }\r\n\r\n                    // 금액이 0이면 스킵\r\n                    if (amount === 0) {\r\n                        skippedCnt++;\r\n                        return;\r\n                    }\r\n\r\n                    // 취소된 승인번호면 스킵\r\n                    if (approvalNum && cancelledApprovals.has(approvalNum)) {\r\n                        excludedCnt++;\r\n                        console.log(\"❌ 취소 거래 제외 (승인번호):\", merchant, approvalNum);\r\n                        return;\r\n                    }\r\n\r\n                    // 음수 금액이면 취소로 간주하여 스킵\r\n                    if (isNegativeAmount) {\r\n                        excludedCnt++;\r\n                        console.log(\"❌ 취소 거래 제외 (음수금액):\", merchant);\r\n                        return;\r\n                    }\r\n\r\n                    // 가맹점명에 취소 키워드가 있으면 스킵\r\n                    const hasCancelInMerchant = CANCEL_KEYWORDS.some(keyword =>\r\n                        merchant.toLowerCase().includes(keyword)\r\n                    );\r\n                    if (hasCancelInMerchant) {\r\n                        excludedCnt++;\r\n                        console.log(\"❌ 취소 거래 제외 (가맹점명):\", merchant);\r\n                        return;\r\n                    }\r\n\r\n                    // 카테고리 분류\r\n                    const merchantLower = merchant.toLowerCase();\r\n\r\n                    // 대중교통 체크\r\n                    const isTransport = PUBLIC_TRANSPORT_KEYWORDS.some(keyword =>\r\n                        merchantLower.includes(keyword.toLowerCase())\r\n                    );\r\n\r\n                    // 보험료 체크\r\n                    const isInsurance = INSURANCE_KEYWORDS.some(keyword =>\r\n                        merchantLower.includes(keyword.toLowerCase())\r\n                    );\r\n\r\n                    // 의료비 체크 (약국, 병원, 의원 등)\r\n                    const isMedical = MEDICAL_KEYWORDS.some(keyword =>\r\n                        merchantLower.includes(keyword.toLowerCase())\r\n                    );\r\n\r\n                    // 디버깅: 의료비 감지 로그\r\n                    if (isMedical) {\r\n                        console.log(\"🏥 의료비 감지:\", merchant, \"-> medical\");\r\n                    }\r\n\r\n                    // 전통시장 체크 (업종 컬럼 또는 가맹점명 기반)\r\n                    const isTraditionalMarket = TRADITIONAL_MARKET_KEYWORDS.some(keyword =>\r\n                        merchantLower.includes(keyword.toLowerCase()) || categoryValue.includes(keyword.toLowerCase())\r\n                    );\r\n\r\n                    // 문화체육 체크 (업종 컬럼 또는 가맹점명 기반)\r\n                    const isCultureSports = CULTURE_SPORTS_KEYWORDS.some(keyword =>\r\n                        merchantLower.includes(keyword.toLowerCase()) || categoryValue.includes(keyword.toLowerCase())\r\n                    );\r\n\r\n                    // 업종 컬럼에서 대중교통 추가 체크\r\n                    const isTransportFromCategory = categoryValue.includes(\"대중교통\") ||\r\n                        categoryValue.includes(\"버스\") || categoryValue.includes(\"지하철\") ||\r\n                        categoryValue.includes(\"택시\") || categoryValue.includes(\"철도\");\r\n\r\n                    // 제외 키워드 체크 (세금, 공과금, 통신비 등)\r\n                    const isExcluded = EXCLUDED_KEYWORDS.some(keyword =>\r\n                        merchantLower.includes(keyword.toLowerCase())\r\n                    );\r\n\r\n                    if (isExcluded) excludedCnt++;\r\n\r\n                    // 카테고리 결정 (우선순위: 제외 > 대중교통 > 보험 > 의료비 > 전통시장 > 문화체육 > 카드)\r\n                    let category: \"card\" | \"transport\" | \"insurance\" | \"medical\" | \"market\" | \"culture\" | \"excluded\" = \"card\";\r\n                    if (isExcluded) category = \"excluded\";\r\n                    else if (isTransport || isTransportFromCategory) category = \"transport\";\r\n                    else if (isInsurance) category = \"insurance\";\r\n                    else if (isMedical) category = \"medical\";\r\n                    else if (isTraditionalMarket) category = \"market\";\r\n                    else if (isCultureSports) category = \"culture\";\r\n\r\n                    console.log(\"분류 결과:\", merchant, \"->\", category);\r\n\r\n\r\n                    parsedData.push({\r\n                        date,\r\n                        merchant,\r\n                        amount,\r\n                        excluded: isExcluded,\r\n                        category,\r\n                        approvalNum\r\n                    });\r\n                });\r\n\r\n                console.log(\"Parsed data count:\", parsedData.length, \"Excluded:\", excludedCnt, \"Skipped:\", skippedCnt);\r\n\r\n                // 디버깅: 카테고리별 합계 출력\r\n                const cardTotal = parsedData.filter(i => i.category === \"card\").reduce((s, i) => s + i.amount, 0);\r\n                const transportTotal = parsedData.filter(i => i.category === \"transport\").reduce((s, i) => s + i.amount, 0);\r\n                const insuranceTotal = parsedData.filter(i => i.category === \"insurance\").reduce((s, i) => s + i.amount, 0);\r\n                const medicalTotal = parsedData.filter(i => i.category === \"medical\").reduce((s, i) => s + i.amount, 0);\r\n                const marketTotal = parsedData.filter(i => i.category === \"market\").reduce((s, i) => s + i.amount, 0);\r\n                const cultureTotal = parsedData.filter(i => i.category === \"culture\").reduce((s, i) => s + i.amount, 0);\r\n                const excludedTotal = parsedData.filter(i => i.category === \"excluded\").reduce((s, i) => s + i.amount, 0);\r\n                const grandTotal = parsedData.reduce((s, i) => s + i.amount, 0);\r\n\r\n                console.log(\"=== 카테고리별 합계 ===\");\r\n                console.log(\"신용카드:\", cardTotal.toLocaleString());\r\n                console.log(\"대중교통:\", transportTotal.toLocaleString());\r\n                console.log(\"보험료:\", insuranceTotal.toLocaleString());\r\n                console.log(\"의료비:\", medicalTotal.toLocaleString());\r\n                console.log(\"전통시장:\", marketTotal.toLocaleString());\r\n                console.log(\"문화체육:\", cultureTotal.toLocaleString());\r\n                console.log(\"제외:\", excludedTotal.toLocaleString());\r\n                console.log(\"총합계:\", grandTotal.toLocaleString());\r\n                console.log(\"======================\");\r\n                if (parsedData.length === 0) {\r\n                    showNotification(\"error\", `파싱된 데이터가 없습니다. (스킵: ${skippedCnt}건, 제외: ${excludedCnt}건)`);\r\n                } else {\r\n                    showNotification(\"success\", `${parsedData.length}건의 거래 데이터를 찾았습니다.`);\r\n                }\r\n\r\n                setCardExcelPreview(parsedData); // 전체 데이터 저장 (합계 계산용)\r\n                setExcludedCount(excludedCnt);\r\n\r\n            } catch (error) {\r\n                console.error(\"Excel parsing error:\", error);\r\n                showNotification(\"error\", \"엑셀 파일을 읽는 중 오류가 발생했습니다.\");\r\n            }\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n    };\r\n\r\n    // 카드사 엑셀 업로드 핸들러\r\n    const handleCardExcelUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n        setCardExcelFile(file);\r\n        processCardExcelFile(file);\r\n    };\r\n\r\n    const handleCardExcelDrop = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsCardExcelDragging(false);\r\n        const file = e.dataTransfer.files?.[0];\r\n        if (file && (file.name.endsWith('.xlsx') || file.name.endsWith('.xls'))) {\r\n            setCardExcelFile(file);\r\n            processCardExcelFile(file);\r\n        }\r\n    };\r\n\r\n    const handleCardExcelModalOpen = () => {\r\n        setShowCardExcelModal(true);\r\n        setCardExcelFile(null);\r\n        setCardExcelPreview([]);\r\n        setExcludedCount(0);\r\n        setCardType(\"credit\");\r\n    };\r\n\r\n    const handleCardExcelModalClose = () => {\r\n        setShowCardExcelModal(false);\r\n        setCardExcelFile(null);\r\n        setCardExcelPreview([]);\r\n        if (cardExcelInputRef.current) {\r\n            cardExcelInputRef.current.value = \"\";\r\n        }\r\n    };\r\n\r\n    const handleCardExcelApply = () => {\r\n        if (!cardExcelFile || cardExcelPreview.length === 0) return;\r\n\r\n        // 카테고리별 금액 합계 계산\r\n        const cardAmount = cardExcelPreview\r\n            .filter(item => item.category === \"card\")\r\n            .reduce((sum, item) => sum + item.amount, 0);\r\n\r\n        const transportAmount = cardExcelPreview\r\n            .filter(item => item.category === \"transport\")\r\n            .reduce((sum, item) => sum + item.amount, 0);\r\n\r\n        const insuranceAmount = cardExcelPreview\r\n            .filter(item => item.category === \"insurance\")\r\n            .reduce((sum, item) => sum + item.amount, 0);\r\n\r\n        const medicalAmount = cardExcelPreview\r\n            .filter(item => item.category === \"medical\")\r\n            .reduce((sum, item) => sum + item.amount, 0);\r\n\r\n        const marketAmount = cardExcelPreview\r\n            .filter(item => item.category === \"market\")\r\n            .reduce((sum, item) => sum + item.amount, 0);\r\n\r\n        const cultureAmount = cardExcelPreview\r\n            .filter(item => item.category === \"culture\")\r\n            .reduce((sum, item) => sum + item.amount, 0);\r\n\r\n        // 카테고리별 세부 내역 추출\r\n        const cardDetails: TransactionDetail[] = cardExcelPreview\r\n            .filter(item => item.category === \"card\")\r\n            .map(item => ({ date: item.date, merchant: item.merchant, amount: item.amount }));\r\n\r\n        const transportDetails: TransactionDetail[] = cardExcelPreview\r\n            .filter(item => item.category === \"transport\")\r\n            .map(item => ({ date: item.date, merchant: item.merchant, amount: item.amount }));\r\n\r\n        const insuranceDetails: TransactionDetail[] = cardExcelPreview\r\n            .filter(item => item.category === \"insurance\")\r\n            .map(item => ({ date: item.date, merchant: item.merchant, amount: item.amount }));\r\n\r\n        const medicalDetails: TransactionDetail[] = cardExcelPreview\r\n            .filter(item => item.category === \"medical\")\r\n            .map(item => ({ date: item.date, merchant: item.merchant, amount: item.amount }));\r\n\r\n        const marketDetails: TransactionDetail[] = cardExcelPreview\r\n            .filter(item => item.category === \"market\")\r\n            .map(item => ({ date: item.date, merchant: item.merchant, amount: item.amount }));\r\n\r\n        const cultureDetails: TransactionDetail[] = cardExcelPreview\r\n            .filter(item => item.category === \"culture\")\r\n            .map(item => ({ date: item.date, merchant: item.merchant, amount: item.amount }));\r\n\r\n        // 카드 타입에 따른 이름\r\n        const cardName = cardType === \"credit\" ? \"신용카드\" : cardType === \"debit\" ? \"직불카드\" : \"현금영수증\";\r\n\r\n        // 항목 추가 헬퍼 함수 (세부 내역 포함)\r\n        const addOrUpdateItem = (name: string, amount: number, details: TransactionDetail[]) => {\r\n            if (amount <= 0) return;\r\n\r\n            setSpendingItems(prev => {\r\n                // 같은 월, 같은 이름의 항목 찾기\r\n                const existingIndex = prev.findIndex(item => item.name === name && item.month === selectedSpendingMonth);\r\n                if (existingIndex >= 0) {\r\n                    const currentAmount = parseInt(prev[existingIndex].amount.replace(/[^0-9]/g, \"\") || \"0\");\r\n                    const newAmount = currentAmount + amount;\r\n                    const existingDetails = prev[existingIndex].details || [];\r\n                    return prev.map((item, index) =>\r\n                        index === existingIndex\r\n                            ? {\r\n                                ...item,\r\n                                amount: newAmount.toLocaleString(\"ko-KR\"),\r\n                                details: [...existingDetails, ...details]\r\n                            }\r\n                            : item\r\n                    );\r\n                } else {\r\n                    return [...prev, {\r\n                        id: Date.now().toString() + name + selectedSpendingMonth,\r\n                        name,\r\n                        amount: amount.toLocaleString(\"ko-KR\"),\r\n                        month: selectedSpendingMonth,\r\n                        details\r\n                    }];\r\n                }\r\n            });\r\n        };\r\n\r\n        // 각 카테고리별로 항목 추가 (세부 내역 포함)\r\n        addOrUpdateItem(cardName, cardAmount, cardDetails);\r\n        addOrUpdateItem(\"대중교통\", transportAmount, transportDetails);\r\n        addOrUpdateItem(\"보험료\", insuranceAmount, insuranceDetails);\r\n        addOrUpdateItem(\"의료비\", medicalAmount, medicalDetails);\r\n        addOrUpdateItem(\"전통시장\", marketAmount, marketDetails);\r\n        addOrUpdateItem(\"문화체육\", cultureAmount, cultureDetails);\r\n\r\n        // 결과 메시지\r\n        const messages = [];\r\n        if (cardAmount > 0) messages.push(`${cardName} ${cardAmount.toLocaleString(\"ko-KR\")}원`);\r\n        if (transportAmount > 0) messages.push(`대중교통 ${transportAmount.toLocaleString(\"ko-KR\")}원`);\r\n        if (insuranceAmount > 0) messages.push(`보험료 ${insuranceAmount.toLocaleString(\"ko-KR\")}원`);\r\n        if (medicalAmount > 0) messages.push(`의료비 ${medicalAmount.toLocaleString(\"ko-KR\")}원`);\r\n        if (marketAmount > 0) messages.push(`전통시장 ${marketAmount.toLocaleString(\"ko-KR\")}원`);\r\n        if (cultureAmount > 0) messages.push(`문화체육 ${cultureAmount.toLocaleString(\"ko-KR\")}원`);\r\n\r\n        showNotification(\"success\", `${messages.join(\", \")} 추가됨 (제외: ${excludedCount}건)`);\r\n        handleCardExcelModalClose();\r\n    };\r\n\r\n    // OCR Image Upload Functions\r\n    const processImageFiles = async (files: FileList | null) => {\r\n        if (!files) return;\r\n        const maxImages = 10;\r\n        const currentCount = capturedImages.length;\r\n        const remainingSlots = maxImages - currentCount;\r\n\r\n        if (remainingSlots <= 0) {\r\n            showNotification(\"error\", `최대 ${maxImages}개까지 업로드 가능합니다.`);\r\n            return;\r\n        }\r\n\r\n        const filesToProcess = Array.from(files).slice(0, remainingSlots);\r\n        const newImages: string[] = [];\r\n\r\n        // 이미지 파일 읽기\r\n        for (const file of filesToProcess) {\r\n            if (file.type.startsWith(\"image/\")) {\r\n                const base64 = await new Promise<string>((resolve) => {\r\n                    const reader = new FileReader();\r\n                    reader.onload = (event) => resolve(event.target?.result as string);\r\n                    reader.readAsDataURL(file);\r\n                });\r\n                newImages.push(base64);\r\n            }\r\n        }\r\n\r\n        if (newImages.length === 0) return;\r\n\r\n        setCapturedImages(prev => [...prev, ...newImages]);\r\n\r\n        // 자동 OCR 처리\r\n        setIsOcrProcessing(true);\r\n        showNotification(\"success\", `${newImages.length}개 이미지 분석 중...`);\r\n\r\n        try {\r\n            const response = await fetch('/api/ocr', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ images: newImages })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('OCR API 요청 실패');\r\n            }\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.items && Array.isArray(data.items) && data.items.length > 0) {\r\n                // 선택한 카드 타입에 맞게 기본 카테고리 적용\r\n                const cardTypeToCategory: { [key: string]: string } = {\r\n                    credit: \"신용카드\",\r\n                    debit: \"직불카드\",\r\n                    cash: \"현금영수증\"\r\n                };\r\n                const defaultCategory = cardTypeToCategory[ocrCardType];\r\n\r\n                const adjustedItems = data.items.map((item: { category: string, merchant: string, amount: number }) => ({\r\n                    ...item,\r\n                    // AI가 특수 카테고리(교통, 의료 등)를 감지하지 않았으면 선택한 카드 타입 적용\r\n                    category: [\"신용카드\", \"체크카드\", \"현금영수증\", \"직불카드\"].includes(item.category)\r\n                        ? defaultCategory\r\n                        : item.category\r\n                }));\r\n\r\n                // 중복 방지: 동일한 가맹점+금액 조합 필터링\r\n                // 1. 새로 추가될 항목들 간의 중복을 추적 (같은 이미지가 여러 번 업로드된 경우)\r\n                const seenItems: { [key: string]: boolean } = {};\r\n                const uniqueAdjustedItems: { category: string, merchant: string, amount: number }[] = [];\r\n                const internalDuplicateList: { merchant: string, amount: number }[] = [];\r\n\r\n                adjustedItems.forEach((item: { category: string, merchant: string, amount: number }) => {\r\n                    const key = `${item.merchant}-${item.amount}`;\r\n                    if (!seenItems[key]) {\r\n                        seenItems[key] = true;\r\n                        uniqueAdjustedItems.push(item);\r\n                    } else {\r\n                        // 중복 항목 기록\r\n                        internalDuplicateList.push({ merchant: item.merchant, amount: item.amount });\r\n                    }\r\n                });\r\n\r\n                // 2. 기존 항목과의 중복 제거\r\n                setOcrPreviewItems(prev => {\r\n                    const externalDuplicateList: { merchant: string, amount: number }[] = [];\r\n\r\n                    const newItems = uniqueAdjustedItems.filter((newItem) => {\r\n                        const exists = prev.some(existing =>\r\n                            existing.merchant === newItem.merchant && existing.amount === newItem.amount\r\n                        );\r\n                        if (exists) {\r\n                            externalDuplicateList.push({ merchant: newItem.merchant, amount: newItem.amount });\r\n                        }\r\n                        return !exists;\r\n                    });\r\n\r\n                    // 모든 중복 항목 합치기\r\n                    const allDuplicates = [...internalDuplicateList, ...externalDuplicateList];\r\n\r\n                    if (allDuplicates.length > 0) {\r\n                        setOcrDuplicateItems(prevItems => [...prevItems, ...allDuplicates]);\r\n\r\n                        if (newItems.length > 0) {\r\n                            showNotification(\"success\", `${newItems.length}개 항목 추가 (${allDuplicates.length}개 중복 제외)`);\r\n                        } else {\r\n                            showNotification(\"error\", \"모든 항목이 이미 추가되어 있습니다.\");\r\n                        }\r\n                    } else if (newItems.length > 0) {\r\n                        showNotification(\"success\", `${newItems.length}개 항목이 자동 인식되었습니다!`);\r\n                    }\r\n\r\n                    return [...prev, ...newItems];\r\n                });\r\n            } else {\r\n                showNotification(\"error\", \"이미지에서 지출 항목을 찾을 수 없습니다.\");\r\n            }\r\n        } catch (error) {\r\n            console.error('OCR Error:', error);\r\n            showNotification(\"error\", \"OCR 분석에 실패했습니다.\");\r\n        } finally {\r\n            setIsOcrProcessing(false);\r\n        }\r\n    };\r\n\r\n    const handleOcrImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        processImageFiles(e.target.files);\r\n    };\r\n\r\n    const handleDrop = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(false);\r\n        processImageFiles(e.dataTransfer.files);\r\n    };\r\n\r\n    const handleDragOver = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(true);\r\n    };\r\n\r\n    const handleDragLeave = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(false);\r\n    };\r\n\r\n    const removeImage = (index: number) => {\r\n        setCapturedImages(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const handleOcrModalOpen = () => {\r\n        setShowCameraModal(true);\r\n        setCapturedImages([]);\r\n        setOcrModalMonth(selectedMonth);\r\n        setOcrPreviewItems([]);\r\n        setOcrCardType(\"credit\");\r\n        setOcrDuplicateItems([]);\r\n    };\r\n\r\n    const handleOcrModalClose = () => {\r\n        setShowCameraModal(false);\r\n        setCapturedImages([]);\r\n        setOcrPreviewItems([]);\r\n        setIsDragging(false);\r\n        if (ocrImageInputRef.current) {\r\n            ocrImageInputRef.current.value = \"\";\r\n        }\r\n    };\r\n\r\n\r\n\r\n    // OCR 수동 입력 항목 삭제\r\n    const handleRemoveOcrItem = (index: number) => {\r\n        setOcrPreviewItems(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const handleUseImage = () => {\r\n        if (ocrPreviewItems.length === 0) {\r\n            showNotification(\"error\", \"최소 1개 이상의 항목을 입력해주세요.\");\r\n            return;\r\n        }\r\n\r\n        // 카테고리별 금액 합계 및 세부 내역 추출\r\n        const categoryTotals: { [key: string]: { amount: number, details: TransactionDetail[] } } = {};\r\n\r\n        ocrPreviewItems.forEach(item => {\r\n            if (!categoryTotals[item.category]) {\r\n                categoryTotals[item.category] = { amount: 0, details: [] };\r\n            }\r\n            categoryTotals[item.category].amount += item.amount;\r\n            categoryTotals[item.category].details.push({\r\n                date: new Date().toISOString().split('T')[0],\r\n                merchant: item.merchant,\r\n                amount: item.amount\r\n            });\r\n        });\r\n\r\n        // 항목 추가 헬퍼 함수\r\n        const addOrUpdateItem = (name: string, amount: number, details: TransactionDetail[]) => {\r\n            if (amount <= 0) return;\r\n            setSpendingItems(prev => {\r\n                const existingIndex = prev.findIndex(i => i.name === name && i.month === selectedSpendingMonth);\r\n                if (existingIndex >= 0) {\r\n                    const currentAmount = parseInt(prev[existingIndex].amount.replace(/[^0-9]/g, \"\") || \"0\");\r\n                    const newAmount = currentAmount + amount;\r\n                    const existingDetails = prev[existingIndex].details || [];\r\n                    return prev.map((item, index) =>\r\n                        index === existingIndex\r\n                            ? { ...item, amount: newAmount.toLocaleString(\"ko-KR\"), details: [...existingDetails, ...details] }\r\n                            : item\r\n                    );\r\n                } else {\r\n                    return [...prev, {\r\n                        id: Date.now().toString() + name + selectedSpendingMonth,\r\n                        name,\r\n                        amount: amount.toLocaleString(\"ko-KR\"),\r\n                        month: selectedSpendingMonth,\r\n                        details\r\n                    }];\r\n                }\r\n            });\r\n        };\r\n\r\n        // 각 카테고리별로 항목 추가\r\n        Object.entries(categoryTotals).forEach(([category, data]) => {\r\n            addOrUpdateItem(category, data.amount, data.details);\r\n        });\r\n\r\n        // 결과 메시지\r\n        const messages = Object.entries(categoryTotals).map(([cat, data]) =>\r\n            `${cat} ${data.amount.toLocaleString(\"ko-KR\")}원`\r\n        );\r\n        showNotification(\"success\", `${messages.join(\", \")} 추가됨`);\r\n        handleOcrModalClose();\r\n    };\r\n\r\n    const handleSalaryInputChange = (field: keyof MonthlySalaryData, value: string) => {\r\n        // 숫자만 추출 후 천원단위 포맷팅\r\n        const numericValue = value.replace(/[^0-9]/g, \"\");\r\n        const formatted = numericValue ? parseInt(numericValue).toLocaleString(\"ko-KR\") : \"0\";\r\n\r\n        setMonthlySalary(prev => ({\r\n            ...prev,\r\n            [selectedMonth]: {\r\n                ...prev[selectedMonth],\r\n                [field]: formatted\r\n            }\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto animate-fade-in pb-40 md:pb-0\">\r\n            {/* Hidden file input for Excel upload */}\r\n            <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\".xlsx,.xls\"\r\n                onChange={handleExcelUpload}\r\n                className=\"hidden\"\r\n            />\r\n\r\n            {/* Notification Toast - 저장 버튼 위에 표시 */}\r\n            {notification && (\r\n                <div className={clsx(\r\n                    \"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 flex items-center gap-3 px-6 py-3 border-2 border-black shadow-[4px_4px_0px_0px_#000] animate-fade-in md:bottom-28\",\r\n                    notification.type === \"success\" ? \"bg-neo-cyan\" : \"bg-neo-orange\"\r\n                )}>\r\n                    {notification.type === \"success\" ? <CheckCircle size={20} /> : <AlertCircle size={20} />}\r\n                    <span className=\"font-bold text-sm\">{notification.message}</span>\r\n                </div>\r\n            )}\r\n\r\n            {/* Add Item Modal */}\r\n            {showAddItemModal && typeof document !== 'undefined' && createPortal(\r\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80\">\r\n                    <div className=\"bg-white border-[3px] border-black p-6 max-w-md w-full mx-4 shadow-[8px_8px_0px_0px_#000]\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h3 className=\"text-lg font-black\">수동 항목 추가</h3>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"modalClose\", () => setShowAddItemModal(false))}\r\n                                className={clsx(\r\n                                    \"p-2 border-2 border-black shadow-[2px_2px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"modalClose\"\r\n                                        ? \"bg-neo-orange translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">월 선택</label>\r\n                                <select\r\n                                    className=\"neo-input\"\r\n                                    value={newItemMonth}\r\n                                    onChange={(e) => setNewItemMonth(parseInt(e.target.value))}\r\n                                >\r\n                                    {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map((m) => (\r\n                                        <option key={m} value={m}>{m}월</option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">항목명</label>\r\n                                <select\r\n                                    className=\"neo-input\"\r\n                                    value={newItemName}\r\n                                    onChange={(e) => setNewItemName(e.target.value)}\r\n                                >\r\n                                    <option value=\"\">-- 항목 선택 --</option>\r\n                                    <option value=\"신용카드\">💳 신용카드</option>\r\n                                    <option value=\"직불카드\">💳 직불카드</option>\r\n                                    <option value=\"현금영수증\">🧾 현금영수증</option>\r\n                                    <option value=\"대중교통\">🚌 대중교통</option>\r\n                                    <option value=\"보험료\">🛡 보험료</option>\r\n                                    <option value=\"의료비(난임시술비)\">🏥 의료비(난임시술비)</option>\r\n                                    <option value=\"의료비(미숙아,선천성)\">🏥 의료비(미숙아,선천성)</option>\r\n                                    <option value=\"의료비(본인,장애,65세,6세)\">🏥 의료비(본인,장애,65세,6세)</option>\r\n                                    <option value=\"의료비(그밖부양가족)\">🏥 의료비(그밖부양가족)</option>\r\n                                    <option value=\"교육비(본인)\">📚 교육비(본인)</option>\r\n                                    <option value=\"교육비(미취학)-자녀1\">📚 교육비(미취학)-자녀1</option>\r\n                                    <option value=\"교육비(미취학)-자녀2\">📚 교육비(미취학)-자녀2</option>\r\n                                    <option value=\"교육비(미취학)-자녀3\">📚 교육비(미취학)-자녀3</option>\r\n                                    <option value=\"교육비(초중고)-자녀1\">📚 교육비(초중고)-자녀1</option>\r\n                                    <option value=\"교육비(초중고)-자녀2\">📚 교육비(초중고)-자녀2</option>\r\n                                    <option value=\"교육비(초중고)-자녀3\">📚 교육비(초중고)-자녀3</option>\r\n                                    <option value=\"교육비(대학)-자녀1\">📚 교육비(대학)-자녀1</option>\r\n                                    <option value=\"교육비(대학)-자녀2\">📚 교육비(대학)-자녀2</option>\r\n                                    <option value=\"교육비(대학)-자녀3\">📚 교육비(대학)-자녀3</option>\r\n                                    <option value=\"전통시장\">🏪 전통시장</option>\r\n                                    <option value=\"문화체육\">🎭 문화체육</option>\r\n                                    <option value=\"기부금(정치자금)\">🎗️ 기부금(정치자금)</option>\r\n                                    <option value=\"기부금(고향사랑)\">🎗️ 기부금(고향사랑)</option>\r\n                                    <option value=\"기부금(고향사랑특별재난)\">🎗️ 기부금(고향사랑특별재난)</option>\r\n                                    <option value=\"기부금(특례기부금)\">🎗️ 기부금(특례기부금)</option>\r\n                                    <option value=\"기부금(우리사주조합)\">🎗️ 기부금(우리사주조합)</option>\r\n                                    <option value=\"기부금(일반기부금(종교))\">🎗️ 기부금(일반기부금(종교))</option>\r\n                                    <option value=\"기부금(일반기부금(종교 외))\">🎗️ 기부금(일반기부금(종교 외))</option>\r\n                                    <option value=\"연금저축\">💰 연금저축</option>\r\n                                    <option value=\"퇴직연금(IRP)\">🏦 퇴직연금(IRP)</option>\r\n                                    <option\r\n                                        value=\"주택자금(청약저축) - 세대주\"\r\n                                        disabled={Object.values(monthlySalary).reduce((sum, m) => sum + parseInt(m.totalSalary.replace(/[^0-9]/g, \"\") || \"0\"), 0) > 70000000}\r\n                                    >\r\n                                        🏠 주택자금(청약저축) - 세대주 {Object.values(monthlySalary).reduce((sum, m) => sum + parseInt(m.totalSalary.replace(/[^0-9]/g, \"\") || \"0\"), 0) > 70000000 ? \"(총급여 7천만원 이하만)\" : \"\"}\r\n                                    </option>\r\n                                    <option\r\n                                        value=\"주택자금(청약저축) - 배우자\"\r\n                                        disabled={Object.values(monthlySalary).reduce((sum, m) => sum + parseInt(m.totalSalary.replace(/[^0-9]/g, \"\") || \"0\"), 0) > 70000000}\r\n                                    >\r\n                                        🏠 주택자금(청약저축) - 배우자 {Object.values(monthlySalary).reduce((sum, m) => sum + parseInt(m.totalSalary.replace(/[^0-9]/g, \"\") || \"0\"), 0) > 70000000 ? \"(총급여 7천만원 이하만)\" : \"\"}\r\n                                    </option>\r\n                                    <option value=\"주택자금(월세)\">🏠 주택자금(월세)</option>\r\n                                    <option value=\"주택자금(임차차입금원리금상환액)\">🏠 주택자금(임차차입금원리금상환액)</option>\r\n                                    <option value=\"주택자금(장기주택)(15년이상 고정금리+비거치식)\">🏠 주택자금(장기주택)(15년이상 고정금리+비거치식)</option>\r\n                                    <option value=\"주택자금(장기주택)(15년이상 고정금리 or 비거치식)\">🏠 주택자금(장기주택)(15년이상 고정금리 or 비거치식)</option>\r\n                                    <option value=\"주택자금(장기주택)(15년이상 기타)\">🏠 주택자금(장기주택)(15년이상 기타)</option>\r\n                                    <option value=\"주택자금(장기주택)(10년이상 고정금리 or 비거치식)\">🏠 주택자금(장기주택)(10년이상 고정금리 or 비거치식)</option>\r\n                                </select>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">금액 (원)</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"neo-input\"\r\n                                    placeholder=\"예: 500,000\"\r\n                                    value={newItemAmount}\r\n                                    onChange={(e) => {\r\n                                        // 숫자만 추출 후 천 단위 포맷\r\n                                        const numericValue = e.target.value.replace(/[^0-9]/g, \"\");\r\n                                        const formatted = numericValue ? parseInt(numericValue).toLocaleString(\"ko-KR\") : \"\";\r\n                                        setNewItemAmount(formatted);\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-2 mt-6\">\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"modalCancel\", () => setShowAddItemModal(false))}\r\n                                className={clsx(\r\n                                    \"flex-1 py-3 font-bold border-2 border-black shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"modalCancel\"\r\n                                        ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                취소\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"modalAdd\", handleAddItem)}\r\n                                className={clsx(\r\n                                    \"flex-1 py-3 font-bold border-2 border-black shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"modalAdd\"\r\n                                        ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                        : \"bg-neo-cyan hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                추가\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>,\r\n                document.body\r\n            )}\r\n\r\n            {/* OCR Image Upload Modal */}\r\n            {showCameraModal && typeof document !== 'undefined' && createPortal(\r\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80\">\r\n                    <div className=\"bg-white border-[3px] border-black p-6 max-w-2xl w-full mx-4 shadow-[8px_8px_0px_0px_#000] max-h-[80vh] overflow-y-auto\">\r\n                        <div className=\"flex justify-between items-center mb-4 pb-4 border-b-2 border-black\">\r\n                            <h3 className=\"text-xl font-black\">이미지 업로드 (OCR)</h3>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"ocrModalClose\", handleOcrModalClose)}\r\n                                className={clsx(\r\n                                    \"p-2 border-2 border-black shadow-[2px_2px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"ocrModalClose\"\r\n                                        ? \"bg-neo-orange translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* 카드 타입 탭 */}\r\n                        <p className=\"font-bold text-base mb-2\">📋 사용 내역 선택</p>\r\n                        <div className=\"flex gap-2 mb-4\">\r\n                            {[\r\n                                { type: \"credit\" as const, label: \"💳 신용카드\", btnId: \"ocrTabCredit\" },\r\n                                { type: \"debit\" as const, label: \"💳 직불카드\", btnId: \"ocrTabDebit\" },\r\n                                { type: \"cash\" as const, label: \"🧾 현금영수증\", btnId: \"ocrTabCash\" }\r\n                            ].map(({ type, label, btnId }) => (\r\n                                <button\r\n                                    key={type}\r\n                                    onClick={() => handleButtonClick(btnId, () => !capturedImages.length && setOcrCardType(type))}\r\n                                    disabled={capturedImages.length > 0 && ocrCardType !== type}\r\n                                    className={clsx(\r\n                                        \"flex-1 py-3 font-bold border-2 border-black transition-all\",\r\n                                        ocrCardType === type\r\n                                            ? clickedBtn === btnId\r\n                                                ? \"bg-neo-cyan translate-x-[3px] translate-y-[3px] shadow-none\"\r\n                                                : \"bg-neo-cyan shadow-[3px_3px_0px_0px_#000]\"\r\n                                            : capturedImages.length > 0\r\n                                                ? \"bg-gray-200 cursor-not-allowed opacity-50\"\r\n                                                : clickedBtn === btnId\r\n                                                    ? \"bg-neo-yellow translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                                    : \"bg-white hover:bg-gray-100 shadow-[2px_2px_0px_0px_#000]\"\r\n                                    )}\r\n                                >\r\n                                    {label}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* 드래그앤드롭 영역 */}\r\n                        <div\r\n                            className={clsx(\r\n                                \"min-h-[200px] mb-6 border-2 border-dashed flex flex-col items-center justify-center cursor-pointer transition-all\",\r\n                                isDragging ? \"border-neo-cyan bg-neo-cyan/20 scale-[1.02]\" : \"border-gray-400 bg-gray-50 hover:bg-gray-100\"\r\n                            )}\r\n                            onDrop={handleDrop}\r\n                            onDragOver={handleDragOver}\r\n                            onDragLeave={handleDragLeave}\r\n                            onClick={() => ocrImageInputRef.current?.click()}\r\n                        >\r\n                            {capturedImages.length > 0 ? (\r\n                                <div className=\"w-full p-4\">\r\n                                    <p className=\"text-center text-sm font-bold mb-3\">{capturedImages.length}개 이미지 업로드됨</p>\r\n                                    <div className=\"grid grid-cols-3 gap-2\">\r\n                                        {capturedImages.map((img, index) => (\r\n                                            <div key={index} className=\"relative aspect-square border-2 border-black overflow-hidden group\">\r\n                                                <img src={img} alt={`Uploaded ${index + 1}`} className=\"w-full h-full object-cover\" />\r\n                                                <button\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        removeImage(index);\r\n                                                    }}\r\n                                                    className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                                                >\r\n                                                    <X size={12} />\r\n                                                </button>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                    {isOcrProcessing ? (\r\n                                        <div className=\"flex items-center justify-center gap-2 mt-3\">\r\n                                            <RefreshCw size={16} className=\"animate-spin text-neo-cyan\" />\r\n                                            <span className=\"text-sm font-bold text-neo-cyan\">AI 분석 중...</span>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <p className=\"text-center text-xs text-gray-500 mt-3\">클릭 또는 드래그하여 더 추가</p>\r\n                                    )}\r\n                                </div>\r\n                            ) : (\r\n                                <>\r\n                                    <Upload size={32} className=\"mx-auto mb-2 text-gray-400\" />\r\n                                    <p className=\"font-bold mb-2\">이미지를 드래그하거나</p>\r\n                                    <button\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            ocrImageInputRef.current?.click();\r\n                                        }}\r\n                                        className=\"px-4 py-2 bg-neo-cyan font-bold border-2 border-black shadow-[3px_3px_0px_0px_#000] hover:shadow-[2px_2px_0px_0px_#000] transition-all\"\r\n                                    >\r\n                                        파일 선택\r\n                                    </button>\r\n                                    <p className=\"text-sm text-gray-500 mt-2\">영수증, 원천징수영수증 등</p>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n\r\n                        <input\r\n                            ref={ocrImageInputRef}\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            multiple\r\n                            onChange={handleOcrImageUpload}\r\n                            className=\"hidden\"\r\n                        />\r\n\r\n                        {/* 미리보기 테이블 */}\r\n                        {ocrPreviewItems.length > 0 && (\r\n                            <div className=\"mb-6\">\r\n                                <div className=\"flex justify-between items-center mb-3\">\r\n                                    <span className=\"font-bold\">입력된 항목 미리보기</span>\r\n                                    <span className=\"text-sm text-gray-500\">\r\n                                        총 {ocrPreviewItems.length}건\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"max-h-48 overflow-y-auto border-2 border-black\">\r\n                                    <table className=\"w-full text-sm\">\r\n                                        <thead className=\"bg-gray-100 sticky top-0\">\r\n                                            <tr>\r\n                                                <th className=\"p-2 text-left border-b-2 border-black\">분류</th>\r\n                                                <th className=\"p-2 text-left border-b-2 border-black\">가맹점</th>\r\n                                                <th className=\"p-2 text-right border-b-2 border-black\">금액</th>\r\n                                                <th className=\"p-2 text-center border-b-2 border-black\">삭제</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {ocrPreviewItems.map((item, idx) => (\r\n                                                <tr key={idx} className={clsx(\r\n                                                    item.category === \"대중교통\" && \"bg-blue-50\",\r\n                                                    item.category === \"보험료\" && \"bg-purple-50\",\r\n                                                    item.category === \"의료비\" && \"bg-green-50\",\r\n                                                    item.category === \"전통시장\" && \"bg-orange-50\",\r\n                                                    item.category === \"문화체육\" && \"bg-pink-50\"\r\n                                                )}>\r\n                                                    <td className=\"p-2 border-b\">\r\n                                                        <span className={clsx(\r\n                                                            \"text-xs px-2 py-1 rounded\",\r\n                                                            item.category === \"신용카드\" && \"bg-green-100 text-green-600\",\r\n                                                            item.category === \"체크카드\" && \"bg-cyan-100 text-cyan-600\",\r\n                                                            item.category === \"현금영수증\" && \"bg-yellow-100 text-yellow-600\",\r\n                                                            item.category === \"대중교통\" && \"bg-blue-100 text-blue-600\",\r\n                                                            item.category === \"보험료\" && \"bg-purple-100 text-purple-600\",\r\n                                                            item.category === \"의료비\" && \"bg-teal-100 text-teal-600\",\r\n                                                            item.category === \"전통시장\" && \"bg-orange-100 text-orange-600\",\r\n                                                            item.category === \"문화체육\" && \"bg-pink-100 text-pink-600\"\r\n                                                        )}>\r\n                                                            {item.category}\r\n                                                        </span>\r\n                                                    </td>\r\n                                                    <td className=\"p-2 border-b\">{item.merchant}</td>\r\n                                                    <td className=\"p-2 border-b text-right\">{item.amount.toLocaleString()}원</td>\r\n                                                    <td className=\"p-2 border-b text-center\">\r\n                                                        <button\r\n                                                            onClick={() => handleRemoveOcrItem(idx)}\r\n                                                            className=\"text-red-500 hover:bg-red-100 p-1 rounded\"\r\n                                                        >\r\n                                                            <X size={14} />\r\n                                                        </button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                {/* 카테고리별 합계 */}\r\n                                <div className=\"mt-3 p-3 bg-neo-yellow/30 border-2 border-black space-y-1\">\r\n                                    {Object.entries(\r\n                                        ocrPreviewItems.reduce((acc, item) => {\r\n                                            acc[item.category] = (acc[item.category] || 0) + item.amount;\r\n                                            return acc;\r\n                                        }, {} as { [key: string]: number })\r\n                                    ).map(([category, amount]) => (\r\n                                        <div key={category} className=\"flex justify-between text-sm font-bold\">\r\n                                            <span>{category}:</span>\r\n                                            <span>{amount.toLocaleString()}원</span>\r\n                                        </div>\r\n                                    ))}\r\n                                    <div className=\"border-t border-black pt-1 mt-2 flex justify-between font-bold\">\r\n                                        <span>총합계:</span>\r\n                                        <span>{ocrPreviewItems.reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* 중복 항목 표시 */}\r\n                                {ocrDuplicateItems.length > 0 && (\r\n                                    <div className=\"mt-3 p-3 bg-neo-orange/20 border-2 border-neo-orange text-sm\">\r\n                                        <p className=\"font-bold text-neo-orange mb-2\">⚠️ 중복 이미지 감지됨</p>\r\n                                        {[...new Map(ocrDuplicateItems.map(item => [`${item.merchant}-${item.amount}`, item])).values()].map((item, idx) => {\r\n                                            const count = ocrDuplicateItems.filter(d => d.merchant === item.merchant && d.amount === item.amount).length;\r\n                                            return (\r\n                                                <p key={idx} className=\"text-gray-700\">\r\n                                                    <span className=\"font-semibold\">{item.merchant}</span> ({item.amount.toLocaleString()}원) - {count}건 중복, 1건만 적용\r\n                                                </p>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* 자동 분류 안내 */}\r\n                        <div className=\"mb-6 p-3 bg-gray-100 border-2 border-black text-sm\">\r\n                            <p className=\"font-bold mb-2\">📋 자동 분류 안내:</p>\r\n                            <p className=\"text-blue-600\">🚌 대중교통: 버스, 지하철, 모바일이즘 → 대중교통 항목으로 분류</p>\r\n                            <p className=\"text-purple-600\">🛡 보험료: 메리츠화재, DB손해보험 등 → 보험료 항목으로 분류</p>\r\n                            <p className=\"text-green-600\">🏥 의료비: 병원, 의원, 약국 등 → 의료비 항목으로 분류</p>\r\n                            <p className=\"text-orange-600\">🏪 전통시장: 전통시장, 재래시장 등 → 전통시장 항목으로 분류</p>\r\n                            <p className=\"text-pink-600\">🎭 문화체육: 서점, 도서, 영화관, 헬스 등 → 문화체육 항목으로 분류</p>\r\n                            <p className=\"text-red-500\">❌ 제외: 세금, 공과금, 통신비, 도로통행료 → 공제 불가</p>\r\n                            <p className=\"text-gray-500 mt-1\">취소된 거래는 자동으로 제외됩니다.</p>\r\n                        </div>\r\n\r\n                        {/* 버튼 */}\r\n                        <div className=\"flex gap-3 justify-end\">\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"ocrCancel\", handleOcrModalClose)}\r\n                                className={clsx(\r\n                                    \"px-4 py-2 font-bold border-2 border-black shadow-[3px_3px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"ocrCancel\"\r\n                                        ? \"bg-neo-orange translate-x-[3px] translate-y-[3px] shadow-none\"\r\n                                        : \"bg-white hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                취소\r\n                            </button>\r\n                            <button\r\n                                onClick={handleUseImage}\r\n                                disabled={ocrPreviewItems.length === 0}\r\n                                className={clsx(\r\n                                    \"px-4 py-2 font-bold border-2 border-black shadow-[3px_3px_0px_0px_#000] transition-all\",\r\n                                    ocrPreviewItems.length > 0\r\n                                        ? \"bg-neo-cyan hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                        : \"bg-gray-200 cursor-not-allowed opacity-50\"\r\n                                )}\r\n                            >\r\n                                적용하기 {ocrPreviewItems.length > 0 && `(${ocrPreviewItems.length}건)`}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>,\r\n                document.body\r\n            )}\r\n\r\n            {/* Excel Upload Modal */}\r\n            {showExcelModal && typeof document !== 'undefined' && createPortal(\r\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80\">\r\n                    <div className=\"bg-white border-[3px] border-black p-4 max-w-2xl w-full mx-4 shadow-[8px_8px_0px_0px_#000]\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <div>\r\n                                <h3 className=\"text-lg font-black flex items-center gap-2\">\r\n                                    <FileText size={20} /> 엑셀 업로드\r\n                                </h3>\r\n                                <p className=\"text-sm text-gray-500\">급여 데이터 적용</p>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"excelModalClose\", handleExcelModalClose)}\r\n                                className={clsx(\r\n                                    \"p-2 border-2 border-black shadow-[2px_2px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"excelModalClose\"\r\n                                        ? \"bg-neo-orange translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* 월 선택 */}\r\n                        <div className=\"mb-4\">\r\n                            <label className=\"block font-bold mb-2\">적용할 월 선택</label>\r\n                            <select\r\n                                className=\"neo-input\"\r\n                                value={excelModalMonth}\r\n                                onChange={(e) => setExcelModalMonth(parseInt(e.target.value))}\r\n                            >\r\n                                {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map((m) => (\r\n                                    <option key={m} value={m}>{m}월</option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* 드래그앤드롭 영역 */}\r\n                        <div\r\n                            className={clsx(\r\n                                \"min-h-[180px] mb-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center cursor-pointer transition-all\",\r\n                                isExcelDragging ? \"border-neo-cyan bg-neo-cyan/20 scale-[1.02]\" : \"border-gray-400 bg-gray-50 hover:bg-gray-100\"\r\n                            )}\r\n                            onDrop={handleExcelDrop}\r\n                            onDragOver={handleExcelDragOver}\r\n                            onDragLeave={handleExcelDragLeave}\r\n                            onClick={() => fileInputRef.current?.click()}\r\n                        >\r\n                            {excelFile ? (\r\n                                <div className=\"text-center p-4\">\r\n                                    <p className=\"text-3xl mb-2\">📊</p>\r\n                                    <p className=\"text-lg font-bold mb-1\">{excelFile.name}</p>\r\n                                    <p className=\"text-sm text-gray-500\">{(excelFile.size / 1024).toFixed(1)} KB</p>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"text-center text-gray-500 p-4\">\r\n                                    <p className=\"text-3xl mb-2\">📁</p>\r\n                                    <p className=\"text-lg font-bold mb-1\">엑셀 파일을 드래그하거나 클릭하세요</p>\r\n                                    <p className=\"text-sm\">.xlsx, .xls 파일 지원</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <input\r\n                            ref={fileInputRef}\r\n                            type=\"file\"\r\n                            accept=\".xlsx,.xls\"\r\n                            onChange={handleExcelUpload}\r\n                            className=\"hidden\"\r\n                        />\r\n\r\n                        <div className=\"flex gap-2\">\r\n                            {excelFile ? (\r\n                                <>\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setExcelFile(null);\r\n                                            if (fileInputRef.current) {\r\n                                                fileInputRef.current.value = \"\";\r\n                                            }\r\n                                        }}\r\n                                        className=\"flex-1 py-3 font-bold border-2 border-black bg-white hover:bg-gray-100\"\r\n                                    >\r\n                                        다시 선택\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={handleExcelApply}\r\n                                        className=\"flex-1 py-3 font-bold border-2 border-black bg-neo-cyan hover:bg-cyan-300\"\r\n                                    >\r\n                                        적용하기\r\n                                    </button>\r\n                                </>\r\n                            ) : (\r\n                                <button\r\n                                    onClick={() => handleButtonClick(\"excelFileSelect\", () => fileInputRef.current?.click())}\r\n                                    className={clsx(\r\n                                        \"w-full py-3 font-bold border-2 border-black shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                                        clickedBtn === \"excelFileSelect\"\r\n                                            ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                            : \"bg-neo-cyan hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                    )}\r\n                                >\r\n                                    📁 파일 선택\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>,\r\n                document.body\r\n            )}\r\n\r\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8\">\r\n                <h2 className=\"text-2xl md:text-3xl font-black uppercase\">\r\n                    기초자료 등록\r\n                </h2>\r\n                <div className=\"flex gap-2 flex-wrap\">\r\n                    {[2024, 2025, 2026].map((year) => (\r\n                        <button\r\n                            key={year}\r\n                            onClick={() => handleButtonClick(`year-${year}`, () => handleYearChange(year))}\r\n                            className={clsx(\r\n                                \"px-3 md:px-4 py-2 font-bold border-2 border-black text-sm shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                                selectedYear === year\r\n                                    ? \"bg-black text-white translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                    : clickedBtn === `year-${year}`\r\n                                        ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                            )}\r\n                        >\r\n                            {year}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Monthly Data Grid */}\r\n            <div className=\"space-y-8\">\r\n                {/* Salary Section */}\r\n                <div className=\"bg-white border-[3px] border-black p-4 md:p-6 shadow-[4px_4px_0px_0px_#000] md:shadow-[8px_8px_0px_0px_#000]\">\r\n                    <div className=\"flex flex-col md:flex-row justify-between items-start gap-4 mb-6\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"bg-neo-cyan p-2 border-2 border-black\">\r\n                                <DollarSign size={24} />\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-lg md:text-xl font-black\">급여 데이터</h3>\r\n                                <p className=\"text-xs md:text-sm font-bold text-gray-500\">\r\n                                    매월 급여명세서 기준 입력\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"copy1to3\", () => {\r\n                                    const currentData = monthlySalary[selectedMonth];\r\n                                    if (currentData) {\r\n                                        const newMonthlySalary = { ...monthlySalary };\r\n                                        for (let m = 1; m <= 3; m++) {\r\n                                            newMonthlySalary[m] = { ...currentData };\r\n                                        }\r\n                                        setMonthlySalary(newMonthlySalary);\r\n                                        showNotification(\"success\", `${selectedMonth}월 데이터를 1~3월에 복사했습니다.`);\r\n                                    }\r\n                                })}\r\n                                className={clsx(\r\n                                    \"px-3 py-2 text-xs font-bold border-2 border-black shadow-[3px_3px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"copy1to3\"\r\n                                        ? \"bg-neo-orange translate-x-[3px] translate-y-[3px] shadow-none\"\r\n                                        : \"bg-neo-yellow hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                1~3월 동일 적용\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"copy3to12\", () => {\r\n                                    const currentData = monthlySalary[selectedMonth];\r\n                                    if (currentData) {\r\n                                        const newMonthlySalary = { ...monthlySalary };\r\n                                        for (let m = 4; m <= 12; m++) {\r\n                                            newMonthlySalary[m] = { ...currentData };\r\n                                        }\r\n                                        setMonthlySalary(newMonthlySalary);\r\n                                        showNotification(\"success\", `${selectedMonth}월 데이터를 4~12월에 복사했습니다.`);\r\n                                    }\r\n                                })}\r\n                                className={clsx(\r\n                                    \"px-3 py-2 text-xs font-bold border-2 border-black shadow-[3px_3px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"copy3to12\"\r\n                                        ? \"bg-neo-orange translate-x-[3px] translate-y-[3px] shadow-none\"\r\n                                        : \"bg-neo-pink hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                4~12월 동일 적용\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    {/* Month Tabs */}\r\n                    <div className=\"grid grid-cols-6 md:grid-cols-12 gap-1 mb-4 border-b-2 border-black pb-3\">\r\n                        {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map((month) => (\r\n                            <button\r\n                                key={month}\r\n                                onClick={() => handleButtonClick(`month-${month}`, () => setSelectedMonth(month))}\r\n                                className={clsx(\r\n                                    \"py-2 font-bold text-sm border-2 border-black transition-all\",\r\n                                    selectedMonth === month\r\n                                        ? \"bg-black text-white shadow-none\"\r\n                                        : clickedBtn === `month-${month}`\r\n                                            ? \"bg-neo-cyan translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                            : \"bg-white shadow-[3px_3px_0px_0px_#000] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                {month}월\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">월급여 (세전)</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.totalSalary || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"totalSalary\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">비과세 식대</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.mealAllowance || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"mealAllowance\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">국민연금</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.nationalPension || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"nationalPension\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">건강보험</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.healthInsurance || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"healthInsurance\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">노인장기요양보험</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.longTermCare || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"longTermCare\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">고용보험</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.employmentInsurance || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"employmentInsurance\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">상여금</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.bonus || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"bonus\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">자녀학자금</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.childTuition || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"childTuition\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">기납부세액 (소득세)</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.prepaidTax || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"prepaidTax\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block font-bold mb-2\">기납부세액 (지방소득세)</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"neo-input\"\r\n                                value={monthlySalary[selectedMonth]?.localIncomeTax || \"0\"}\r\n                                onChange={(e) => handleSalaryInputChange(\"localIncomeTax\", e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Family Info Section */}\r\n                <div className=\"bg-white border-[3px] border-black p-4 md:p-6 shadow-[4px_4px_0px_0px_#000] md:shadow-[8px_8px_0px_0px_#000]\">\r\n                    <div className=\"flex items-center gap-3 mb-6\">\r\n                        <div className=\"bg-neo-yellow p-2 border-2 border-black\">\r\n                            <Users size={24} />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"text-lg md:text-xl font-black\">가족 정보</h3>\r\n                            <p className=\"text-xs md:text-sm font-bold text-gray-500\">\r\n                                인적공제 및 카드공제 한도 확대 적용\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 기본공제 섹션 */}\r\n                    <div className=\"mb-6\">\r\n                        <h4 className=\"text-base font-black mb-3 px-2 py-1 bg-neo-cyan border-2 border-black inline-block\">기본공제</h4>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">배우자공제</label>\r\n                                <div className=\"flex gap-2\">\r\n                                    {[false, true].map((hasSpouse) => (\r\n                                        <button\r\n                                            key={hasSpouse ? \"yes\" : \"no\"}\r\n                                            onClick={() => setFamilyData(prev => ({ ...prev, spouse: hasSpouse }))}\r\n                                            className={clsx(\r\n                                                \"flex-1 p-3 border-[3px] border-black font-semibold text-lg transition-colors\",\r\n                                                familyData.spouse === hasSpouse ? \"bg-black text-white\" : \"bg-white hover:bg-gray-100\"\r\n                                            )}\r\n                                        >\r\n                                            {hasSpouse ? \"있음\" : \"없음\"}\r\n                                        </button>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">만 20세 이하 자녀 수</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.children}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, children: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">만 8세 이상 자녀 수 <span className=\"text-xs text-gray-500\">(자녀세액공제)</span></label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.childrenOver8}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, childrenOver8: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">직계존속 (만 60세 이상)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.parents}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, parents: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">형제자매</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.siblings}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, siblings: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">위탁아동 (6개월 이상)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.foster}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, foster: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">기초생활수급자</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.recipient}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, recipient: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 세액공제 섹션 */}\r\n                    <div className=\"mb-6\">\r\n                        <h4 className=\"text-base font-black mb-3 px-2 py-1 bg-neo-yellow border-2 border-black inline-block\">세액공제</h4>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">만 8세 이상 자녀 수</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.childrenOver8}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, childrenOver8: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">출생·입양자</label>\r\n                                <select\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.birthAdoption}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, birthAdoption: e.target.value as \"none\" | \"first\" | \"second\" | \"third1\" | \"third2\" | \"third3\" }))}\r\n                                >\r\n                                    <option value=\"none\">선택 안함</option>\r\n                                    <option value=\"first\">첫째</option>\r\n                                    <option value=\"second\">둘째</option>\r\n                                    <option value=\"third1\">셋째 이상 (1명)</option>\r\n                                    <option value=\"third2\">셋째 이상 (2명)</option>\r\n                                    <option value=\"third3\">셋째 이상 (3명)</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* 비과세 섹션 */}\r\n                    <div>\r\n                        <h4 className=\"text-base font-black mb-3 px-2 py-1 bg-neo-pink border-2 border-black inline-block\">비과세</h4>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block font-bold mb-2\">만 6세 이하 자녀 수 (보육수당)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    className=\"neo-input\"\r\n                                    value={familyData.childrenUnder6}\r\n                                    onChange={(e) => setFamilyData(prev => ({ ...prev, childrenUnder6: Math.max(0, parseInt(e.target.value) || 0) }))}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Spending Section */}\r\n                <div className=\"bg-white border-[3px] border-black p-4 md:p-6 shadow-[4px_4px_0px_0px_#000] md:shadow-[8px_8px_0px_0px_#000]\">\r\n                    <div className=\"flex flex-col md:flex-row justify-between items-start gap-4 mb-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"bg-neo-orange p-2 border-2 border-black\">\r\n                                <CreditCard size={24} />\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-lg md:text-xl font-black\">\r\n                                    지출 데이터 ({selectedSpendingMonth}월)\r\n                                </h3>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex gap-2 flex-wrap w-full md:w-auto\">\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"cardExcel\", handleCardExcelModalOpen)}\r\n                                className={clsx(\r\n                                    \"flex-1 md:flex-none flex items-center justify-center gap-2 px-3 md:px-4 py-2 border-2 border-black font-bold text-xs md:text-sm shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"excel\"\r\n                                        ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <FileText size={14} className={clsx(\"md:w-4 md:h-4\", clickedBtn === \"excel\" && \"animate-spin\")} /> 엑셀\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"ocr\", handleOcrModalOpen)}\r\n                                className={clsx(\r\n                                    \"flex-1 md:flex-none flex items-center justify-center gap-2 px-3 md:px-4 py-2 border-2 border-black font-bold text-xs md:text-sm shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"ocr\"\r\n                                        ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                        : \"bg-neo-yellow hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <Upload size={14} className=\"md:w-4 md:h-4\" /> OCR\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"sync\", () => showNotification(\"success\", \"카드사 연동 기능 준비중입니다!\"))}\r\n                                className={clsx(\r\n                                    \"flex-1 md:flex-none flex items-center justify-center gap-2 px-3 md:px-4 py-2 border-2 border-black font-bold text-xs md:text-sm shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"sync\"\r\n                                        ? \"bg-neo-cyan translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                                        : \"bg-black text-white hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <RefreshCw size={14} className={clsx(\"md:w-4 md:h-4\", clickedBtn === \"sync\" && \"animate-spin\")} /> 동기화\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Month Tabs for Spending */}\r\n                    <div className=\"grid grid-cols-6 md:grid-cols-12 gap-1 mb-4 border-b-2 border-black pb-3\">\r\n                        {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map((month) => (\r\n                            <button\r\n                                key={month}\r\n                                onClick={() => handleButtonClick(`spending-month-${month}`, () => setSelectedSpendingMonth(month))}\r\n                                className={clsx(\r\n                                    \"py-2 font-bold text-sm border-2 border-black transition-all\",\r\n                                    selectedSpendingMonth === month\r\n                                        ? \"bg-black text-white shadow-none\"\r\n                                        : clickedBtn === `spending-month-${month}`\r\n                                            ? \"bg-neo-cyan translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                            : \"bg-white shadow-[3px_3px_0px_0px_#000] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                {month}월\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        {spendingItems.filter(item => item.month === selectedSpendingMonth).length > 0 ? (\r\n                            spendingItems.filter(item => item.month === selectedSpendingMonth).map((item) => (\r\n                                <div key={item.id} className=\"flex items-center justify-between border-b-2 border-gray-100 pb-2 group\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <span className=\"font-bold\">{item.name}</span>\r\n                                        {item.details && item.details.length > 0 && (\r\n                                            <button\r\n                                                onClick={() => {\r\n                                                    setSelectedItemDetails(item);\r\n                                                    setShowDetailsModal(true);\r\n                                                }}\r\n                                                className=\"text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded hover:bg-blue-200 flex items-center gap-1\"\r\n                                            >\r\n                                                <Eye size={12} />\r\n                                                {item.details.length}건\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <span className=\"font-bold text-lg tracking-tight\">\r\n                                            {parseInt(item.amount.replace(/[^0-9]/g, \"\") || \"0\").toLocaleString(\"ko-KR\")}원\r\n                                        </span>\r\n                                        <button\r\n                                            onClick={() => handleDeleteItem(item.id)}\r\n                                            className=\"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 text-red-500 transition-opacity\"\r\n                                        >\r\n                                            <X size={16} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <div className=\"text-center py-8 text-gray-400\">\r\n                                <p className=\"font-bold\">{selectedSpendingMonth}월 지출 데이터가 없습니다</p>\r\n                                <p className=\"text-sm mt-1\">엑셀 업로드 또는 수동 항목 추가로 데이터를 입력하세요</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={() => {\r\n                            setNewItemMonth(selectedSpendingMonth);\r\n                            handleButtonClick(\"addItem\", () => setShowAddItemModal(true));\r\n                        }}\r\n                        className={clsx(\r\n                            \"w-full mt-6 py-3 border-2 border-dashed font-bold transition-all flex items-center justify-center gap-2\",\r\n                            clickedBtn === \"addItem\"\r\n                                ? \"border-black bg-neo-yellow text-black\"\r\n                                : \"border-gray-300 text-gray-400 hover:border-black hover:text-black hover:bg-gray-50\"\r\n                        )}\r\n                    >\r\n                        <Plus size={16} /> 수동 항목 추가\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"fixed bottom-16 md:bottom-0 left-0 right-0 p-4 bg-white border-t-2 border-black flex justify-center gap-4 z-40 md:static md:bg-transparent md:border-none md:p-0 md:mt-8\">\r\n                <button\r\n                    onClick={() => handleButtonClick(\"cancel\")}\r\n                    className={clsx(\r\n                        \"px-6 py-3 font-bold border-2 border-black shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                        clickedBtn === \"cancel\"\r\n                            ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                            : \"bg-white hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                    )}\r\n                >\r\n                    변경취소\r\n                </button>\r\n                <button\r\n                    onClick={() => handleButtonClick(\"save\", handleSave)}\r\n                    className={clsx(\r\n                        \"px-6 py-3 font-bold border-2 border-black shadow-[4px_4px_0px_0px_#000] transition-all\",\r\n                        clickedBtn === \"save\"\r\n                            ? \"bg-neo-orange translate-x-[4px] translate-y-[4px] shadow-none\"\r\n                            : \"bg-neo-cyan hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                    )}\r\n                >\r\n                    저장하기\r\n                </button>\r\n            </div>\r\n\r\n            {/* 카드사 엑셀 업로드 모달 */}\r\n            {showCardExcelModal && typeof document !== 'undefined' && createPortal(\r\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80\">\r\n                    <div className=\"bg-white border-[3px] border-black p-6 max-w-2xl w-full mx-4 shadow-[8px_8px_0px_0px_#000] max-h-[80vh] overflow-y-auto\">\r\n                        <div className=\"flex justify-between items-center mb-4 pb-4 border-b-2 border-black\">\r\n                            <h3 className=\"text-xl font-black\">엑셀 업로드</h3>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"cardExcelClose\", handleCardExcelModalClose)}\r\n                                className={clsx(\r\n                                    \"p-2 border-2 border-black shadow-[2px_2px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"cardExcelClose\"\r\n                                        ? \"bg-neo-orange translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* 카드 타입 탭 */}\r\n                        <p className=\"font-bold text-base mb-2\">📋 사용 내역 선택</p>\r\n                        <div className=\"flex gap-2 mb-4\">\r\n                            {[\r\n                                { type: \"credit\" as const, label: \"💳 신용카드\", btnId: \"cardExcelTabCredit\" },\r\n                                { type: \"debit\" as const, label: \"💳 직불카드\", btnId: \"cardExcelTabDebit\" },\r\n                                { type: \"cash\" as const, label: \"🧾 현금영수증\", btnId: \"cardExcelTabCash\" }\r\n                            ].map(({ type, label, btnId }) => {\r\n                                const isDisabled = cardExcelFile !== null && cardType !== type;\r\n                                return (\r\n                                    <button\r\n                                        key={type}\r\n                                        onClick={() => !isDisabled && handleButtonClick(btnId, () => setCardType(type))}\r\n                                        disabled={isDisabled}\r\n                                        className={clsx(\r\n                                            \"flex-1 py-3 font-bold border-2 border-black transition-all\",\r\n                                            cardType === type\r\n                                                ? \"bg-neo-cyan shadow-none translate-x-[2px] translate-y-[2px]\"\r\n                                                : isDisabled\r\n                                                    ? \"bg-gray-200 text-gray-400 cursor-not-allowed opacity-50\"\r\n                                                    : clickedBtn === btnId\r\n                                                        ? \"bg-neo-orange translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                                        : \"bg-white shadow-[4px_4px_0px_0px_#000] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                        )}\r\n                                    >\r\n                                        {label}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n\r\n                        {/* 파일 업로드 영역 */}\r\n                        <div\r\n                            onDrop={handleCardExcelDrop}\r\n                            onDragOver={(e) => { e.preventDefault(); setIsCardExcelDragging(true); }}\r\n                            onDragLeave={() => setIsCardExcelDragging(false)}\r\n                            className={clsx(\r\n                                \"border-2 border-dashed p-8 text-center mb-6 transition-all\",\r\n                                isCardExcelDragging ? \"border-neo-cyan bg-neo-cyan/10\" : \"border-gray-300\",\r\n                                cardExcelFile && \"border-neo-green bg-neo-green/10\"\r\n                            )}\r\n                        >\r\n                            <input\r\n                                ref={cardExcelInputRef}\r\n                                type=\"file\"\r\n                                accept=\".xlsx,.xls\"\r\n                                onChange={handleCardExcelUpload}\r\n                                className=\"hidden\"\r\n                            />\r\n                            {cardExcelFile ? (\r\n                                <div className=\"flex items-center justify-center gap-3\">\r\n                                    <CheckCircle size={24} className=\"text-green-500\" />\r\n                                    <span className=\"font-bold\">{cardExcelFile.name}</span>\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setCardExcelFile(null);\r\n                                            setCardExcelPreview([]);\r\n                                            if (cardExcelInputRef.current) cardExcelInputRef.current.value = \"\";\r\n                                        }}\r\n                                        className=\"p-1 hover:bg-red-100 text-red-500\"\r\n                                    >\r\n                                        <X size={16} />\r\n                                    </button>\r\n                                </div>\r\n                            ) : (\r\n                                <>\r\n                                    <Upload size={32} className=\"mx-auto mb-2 text-gray-400\" />\r\n                                    <p className=\"font-bold mb-2\">엑셀 파일을 드래그하거나</p>\r\n                                    <button\r\n                                        onClick={() => cardExcelInputRef.current?.click()}\r\n                                        className=\"px-4 py-2 bg-neo-cyan font-bold border-2 border-black shadow-[3px_3px_0px_0px_#000] hover:shadow-[2px_2px_0px_0px_#000] transition-all\"\r\n                                    >\r\n                                        파일 선택\r\n                                    </button>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* 미리보기 */}\r\n                        {cardExcelPreview.length > 0 && (\r\n                            <div className=\"mb-6\">\r\n                                <div className=\"flex justify-between items-center mb-3\">\r\n                                    <span className=\"font-bold\">파싱 결과 미리보기</span>\r\n                                    <span className=\"text-sm text-gray-500\">\r\n                                        총 {cardExcelPreview.length}건\r\n                                        {excludedCount > 0 && (\r\n                                            <span className=\"text-red-500 ml-2\">\r\n                                                (제외: {excludedCount}건)\r\n                                            </span>\r\n                                        )}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"max-h-48 overflow-y-auto border-2 border-black\">\r\n                                    <table className=\"w-full text-sm\">\r\n                                        <thead className=\"bg-gray-100 sticky top-0\">\r\n                                            <tr>\r\n                                                <th className=\"p-2 text-left border-b-2 border-black\">날짜</th>\r\n                                                <th className=\"p-2 text-left border-b-2 border-black\">가맹점</th>\r\n                                                <th className=\"p-2 text-right border-b-2 border-black\">금액</th>\r\n                                                <th className=\"p-2 text-center border-b-2 border-black\">분류</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {cardExcelPreview.map((item, idx) => (\r\n                                                <tr key={idx} className={clsx(\r\n                                                    item.category === \"excluded\" && \"bg-red-50 text-red-400 line-through\",\r\n                                                    item.category === \"transport\" && \"bg-blue-50\",\r\n                                                    item.category === \"insurance\" && \"bg-purple-50\",\r\n                                                    item.category === \"medical\" && \"bg-green-50\",\r\n                                                    item.category === \"market\" && \"bg-orange-50\",\r\n                                                    item.category === \"culture\" && \"bg-pink-50\"\r\n                                                )}>\r\n                                                    <td className=\"p-2 border-b\">{item.date}</td>\r\n                                                    <td className=\"p-2 border-b\">{item.merchant}</td>\r\n                                                    <td className=\"p-2 border-b text-right\">{item.amount.toLocaleString()}원</td>\r\n                                                    <td className=\"p-2 border-b text-center\">\r\n                                                        {item.category === \"excluded\" ? (\r\n                                                            <span className=\"text-xs bg-red-100 text-red-600 px-2 py-1 rounded\">제외</span>\r\n                                                        ) : item.category === \"transport\" ? (\r\n                                                            <span className=\"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded\">대중교통</span>\r\n                                                        ) : item.category === \"insurance\" ? (\r\n                                                            <span className=\"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded\">보험료</span>\r\n                                                        ) : item.category === \"medical\" ? (\r\n                                                            <span className=\"text-xs bg-teal-100 text-teal-600 px-2 py-1 rounded\">의료비</span>\r\n                                                        ) : item.category === \"market\" ? (\r\n                                                            <span className=\"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded\">전통시장</span>\r\n                                                        ) : item.category === \"culture\" ? (\r\n                                                            <span className=\"text-xs bg-pink-100 text-pink-600 px-2 py-1 rounded\">문화체육</span>\r\n                                                        ) : (\r\n                                                            <span className=\"text-xs bg-green-100 text-green-600 px-2 py-1 rounded\">\r\n                                                                {cardType === \"credit\" ? \"신용\" : cardType === \"debit\" ? \"직불\" : \"현금\"}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div className=\"mt-3 p-3 bg-neo-yellow/30 border-2 border-black space-y-1\">\r\n                                    <div className=\"flex justify-between font-bold text-sm\">\r\n                                        <span>{cardType === \"credit\" ? \"💳 신용카드\" : cardType === \"debit\" ? \"💳 직불카드\" : \"🧾 현금영수증\"}:</span>\r\n                                        <span>{cardExcelPreview.filter(i => i.category === \"card\").reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-sm text-blue-600\">\r\n                                        <span>🚌 대중교통:</span>\r\n                                        <span>{cardExcelPreview.filter(i => i.category === \"transport\").reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-sm text-purple-600\">\r\n                                        <span>🛡️ 보험료:</span>\r\n                                        <span>{cardExcelPreview.filter(i => i.category === \"insurance\").reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-sm text-teal-600\">\r\n                                        <span>🏥 의료비:</span>\r\n                                        <span>{cardExcelPreview.filter(i => i.category === \"medical\").reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-sm text-orange-600\">\r\n                                        <span>🏪 전통시장:</span>\r\n                                        <span>{cardExcelPreview.filter(i => i.category === \"market\").reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-sm text-pink-600\">\r\n                                        <span>🎭 문화체육:</span>\r\n                                        <span>{cardExcelPreview.filter(i => i.category === \"culture\").reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between text-sm text-red-500\">\r\n                                        <span>❌ 제외:</span>\r\n                                        <span>{cardExcelPreview.filter(i => i.category === \"excluded\").reduce((s, i) => s + i.amount, 0).toLocaleString()}원</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* 안내 문구 */}\r\n                        <div className=\"mb-6 p-3 bg-gray-100 border-2 border-black text-sm\">\r\n                            <p className=\"font-bold mb-2\">📋 자동 분류 안내:</p>\r\n                            <p className=\"text-blue-600\">🚌 대중교통: 버스, 지하철, 모바일이즐 → 대중교통 항목으로 분류</p>\r\n                            <p className=\"text-purple-600\">🛡️ 보험료: 메리츠화재, DB손해보험 등 → 보험료 항목으로 분류</p>\r\n                            <p className=\"text-teal-600\">🏥 의료비: 병원, 의원, 약국 등 → 의료비 항목으로 분류</p>\r\n                            <p className=\"text-orange-600\">🏪 전통시장: 전통시장, 재래시장 등 → 전통시장 항목으로 분류</p>\r\n                            <p className=\"text-pink-600\">🎭 문화체육: 서점, 도서, 영화관, 헬스 등 → 문화체육 항목으로 분류</p>\r\n                            <p className=\"text-red-500\">❌ 제외: 세금, 공과금, 통신비, 도로통행료 → 공제 불가</p>\r\n                            <p className=\"text-gray-500 mt-1\">취소된 거래는 자동으로 제외됩니다.</p>\r\n                        </div>\r\n\r\n                        {/* 버튼 */}\r\n                        <div className=\"flex gap-3 justify-end\">\r\n                            <button\r\n                                onClick={handleCardExcelModalClose}\r\n                                className=\"px-4 py-2 font-bold border-2 border-black bg-white shadow-[3px_3px_0px_0px_#000] hover:shadow-[2px_2px_0px_0px_#000] transition-all\"\r\n                            >\r\n                                취소\r\n                            </button>\r\n                            <button\r\n                                onClick={handleCardExcelApply}\r\n                                disabled={!cardExcelFile || cardExcelPreview.length === 0}\r\n                                className={clsx(\r\n                                    \"px-4 py-2 font-bold border-2 border-black shadow-[3px_3px_0px_0px_#000] transition-all\",\r\n                                    cardExcelFile && cardExcelPreview.length > 0\r\n                                        ? \"bg-neo-cyan hover:shadow-[2px_2px_0px_0px_#000]\"\r\n                                        : \"bg-gray-200 cursor-not-allowed opacity-50\"\r\n                                )}\r\n                            >\r\n                                적용하기\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>,\r\n                document.body\r\n            )}\r\n\r\n            {/* 세부 내역 모달 */}\r\n            {showDetailsModal && selectedItemDetails && typeof document !== 'undefined' && createPortal(\r\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80\">\r\n                    <div className=\"bg-white border-[3px] border-black p-6 max-w-2xl w-full mx-4 shadow-[8px_8px_0px_0px_#000] max-h-[80vh] overflow-y-auto\">\r\n                        <div className=\"flex justify-between items-center mb-4 pb-4 border-b-2 border-black\">\r\n                            <h3 className=\"text-xl font-black\">{selectedItemDetails.name} 상세 내역</h3>\r\n                            <button\r\n                                onClick={() => handleButtonClick(\"detailsClose\", () => {\r\n                                    setShowDetailsModal(false);\r\n                                    setSelectedItemDetails(null);\r\n                                })}\r\n                                className={clsx(\r\n                                    \"p-2 border-2 border-black shadow-[2px_2px_0px_0px_#000] transition-all\",\r\n                                    clickedBtn === \"detailsClose\"\r\n                                        ? \"bg-neo-orange translate-x-[2px] translate-y-[2px] shadow-none\"\r\n                                        : \"bg-white hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_#000]\"\r\n                                )}\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"mb-4 p-3 bg-neo-yellow/30 border-2 border-black\">\r\n                            <div className=\"flex justify-between font-bold\">\r\n                                <span>총 {selectedItemDetails.details?.length || 0}건</span>\r\n                                <span className=\"text-lg\">{selectedItemDetails.amount}원</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"max-h-96 overflow-y-auto border-2 border-black\">\r\n                            <table className=\"w-full text-sm\">\r\n                                <thead className=\"bg-gray-100 sticky top-0\">\r\n                                    <tr>\r\n                                        <th className=\"p-2 text-left border-b-2 border-black\">날짜</th>\r\n                                        <th className=\"p-2 text-left border-b-2 border-black\">가맹점</th>\r\n                                        <th className=\"p-2 text-right border-b-2 border-black\">금액</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {selectedItemDetails.details?.map((detail, idx) => (\r\n                                        <tr key={idx} className=\"hover:bg-gray-50\">\r\n                                            <td className=\"p-2 border-b\">{detail.date}</td>\r\n                                            <td className=\"p-2 border-b\">{detail.merchant}</td>\r\n                                            <td className=\"p-2 border-b text-right\">{detail.amount.toLocaleString()}원</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-end mt-4\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    setShowDetailsModal(false);\r\n                                    setSelectedItemDetails(null);\r\n                                }}\r\n                                className=\"px-4 py-2 font-bold border-2 border-black bg-white shadow-[3px_3px_0px_0px_#000] hover:shadow-[2px_2px_0px_0px_#000] transition-all\"\r\n                            >\r\n                                닫기\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>,\r\n                document.body\r\n            )}\r\n        </div >\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}